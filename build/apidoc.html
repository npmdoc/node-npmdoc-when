<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://cujojs.com"

    >when (v3.7.8)</a>
</h1>
<h4>A lightweight Promises/A+ and when() implementation, plus other async goodies.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.when">module when</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.when">
            function <span class="apidocSignatureSpan"></span>when
            <span class="apidocSignatureSpan">(x, onFulfilled, onRejected, onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter">
            function <span class="apidocSignatureSpan">when.</span>ConsoleReporter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise">
            function <span class="apidocSignatureSpan">when.</span>Promise
            <span class="apidocSignatureSpan">(resolver, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._defer">
            function <span class="apidocSignatureSpan">when.</span>Promise._defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._handler">
            function <span class="apidocSignatureSpan">when.</span>Promise._handler
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._traverse">
            function <span class="apidocSignatureSpan">when.</span>Promise._traverse
            <span class="apidocSignatureSpan">(f, promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._visitRemaining">
            function <span class="apidocSignatureSpan">when.</span>Promise._visitRemaining
            <span class="apidocSignatureSpan">(promises, start, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.all">
            function <span class="apidocSignatureSpan">when.</span>Promise.all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.any">
            function <span class="apidocSignatureSpan">when.</span>Promise.any
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.createContext">
            function <span class="apidocSignatureSpan">when.</span>Promise.createContext
            <span class="apidocSignatureSpan">(p, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.enterContext">
            function <span class="apidocSignatureSpan">when.</span>Promise.enterContext
            <span class="apidocSignatureSpan">(p)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.exitContext">
            function <span class="apidocSignatureSpan">when.</span>Promise.exitContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.filter">
            function <span class="apidocSignatureSpan">when.</span>Promise.filter
            <span class="apidocSignatureSpan">(promises, predicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.map">
            function <span class="apidocSignatureSpan">when.</span>Promise.map
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.never">
            function <span class="apidocSignatureSpan">when.</span>Promise.never
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onFatalRejection">
            function <span class="apidocSignatureSpan">when.</span>Promise.onFatalRejection
            <span class="apidocSignatureSpan">(rejection, extraContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection">
            function <span class="apidocSignatureSpan">when.</span>Promise.onPotentiallyUnhandledRejection
            <span class="apidocSignatureSpan">(rejection, extraContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled">
            function <span class="apidocSignatureSpan">when.</span>Promise.onPotentiallyUnhandledRejectionHandled
            <span class="apidocSignatureSpan">(rejection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype._beget">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype._beget
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.catch">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.catch
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.delay">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.delay
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.done">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.done
            <span class="apidocSignatureSpan">(onResult, onError)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.ensure">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.ensure
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.fold">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.fold
            <span class="apidocSignatureSpan">(f, z)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.inspect">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.orElse">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.orElse
            <span class="apidocSignatureSpan">(defaultValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.progress">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.progress
            <span class="apidocSignatureSpan">(onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.spread">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.spread
            <span class="apidocSignatureSpan">(onFulfilled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.tap">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.tap
            <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.then">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.then
            <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.timeout">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.timeout
            <span class="apidocSignatureSpan">(ms, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.withThis">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.withThis
            <span class="apidocSignatureSpan">(receiver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.yield">
            function <span class="apidocSignatureSpan">when.</span>Promise.prototype.yield
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.race">
            function <span class="apidocSignatureSpan">when.</span>Promise.race
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduce">
            function <span class="apidocSignatureSpan">when.</span>Promise.reduce
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduceRight">
            function <span class="apidocSignatureSpan">when.</span>Promise.reduceRight
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.settle">
            function <span class="apidocSignatureSpan">when.</span>Promise.settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.some">
            function <span class="apidocSignatureSpan">when.</span>Promise.some
            <span class="apidocSignatureSpan">(promises, n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor">
            function <span class="apidocSignatureSpan">when.</span>PromiseMonitor
            <span class="apidocSignatureSpan">(reporter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Scheduler">
            function <span class="apidocSignatureSpan">when.</span>Scheduler
            <span class="apidocSignatureSpan">(async)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.TimeoutError">
            function <span class="apidocSignatureSpan">when.</span>TimeoutError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.all">
            function <span class="apidocSignatureSpan">when.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.any">
            function <span class="apidocSignatureSpan">when.</span>any
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.apply">
            function <span class="apidocSignatureSpan">when.</span>apply
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.attempt">
            function <span class="apidocSignatureSpan">when.</span>attempt
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.cancelable">
            function <span class="apidocSignatureSpan">when.</span>cancelable
            <span class="apidocSignatureSpan">(deferred, canceler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.defer">
            function <span class="apidocSignatureSpan">when.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.delay">
            function <span class="apidocSignatureSpan">when.</span>delay
            <span class="apidocSignatureSpan">(msec, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.filter">
            function <span class="apidocSignatureSpan">when.</span>filter
            <span class="apidocSignatureSpan">(promises, predicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.guard">
            function <span class="apidocSignatureSpan">when.</span>guard
            <span class="apidocSignatureSpan">(condition, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.isPromiseLike">
            function <span class="apidocSignatureSpan">when.</span>isPromiseLike
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.iterate">
            function <span class="apidocSignatureSpan">when.</span>iterate
            <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.join">
            function <span class="apidocSignatureSpan">when.</span>join
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.lift">
            function <span class="apidocSignatureSpan">when.</span>lift
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.liftAll">
            function <span class="apidocSignatureSpan">when.</span>liftAll
            <span class="apidocSignatureSpan">(liftOne, combine, dst, src)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.list">
            function <span class="apidocSignatureSpan">when.</span>list
            <span class="apidocSignatureSpan">(generator, condition, seed)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.makePromise">
            function <span class="apidocSignatureSpan">when.</span>makePromise
            <span class="apidocSignatureSpan">(environment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.map">
            function <span class="apidocSignatureSpan">when.</span>map
            <span class="apidocSignatureSpan">(promises, mapFunc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.monitor">
            function <span class="apidocSignatureSpan">when.</span>monitor
            <span class="apidocSignatureSpan">(Promise)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.parallel">
            function <span class="apidocSignatureSpan">when.</span>parallel
            <span class="apidocSignatureSpan">(tasks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.pipeline">
            function <span class="apidocSignatureSpan">when.</span>pipeline
            <span class="apidocSignatureSpan">(tasks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.poll">
            function <span class="apidocSignatureSpan">when.</span>poll
            <span class="apidocSignatureSpan">(task, interval, verifier, delayInitialTask)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.promise">
            function <span class="apidocSignatureSpan">when.</span>promise
            <span class="apidocSignatureSpan">(resolver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.race">
            function <span class="apidocSignatureSpan">when.</span>race
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reduce">
            function <span class="apidocSignatureSpan">when.</span>reduce
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reduceRight">
            function <span class="apidocSignatureSpan">when.</span>reduceRight
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reject">
            function <span class="apidocSignatureSpan">when.</span>reject
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.resolve">
            function <span class="apidocSignatureSpan">when.</span>resolve
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.sequence">
            function <span class="apidocSignatureSpan">when.</span>sequence
            <span class="apidocSignatureSpan">(tasks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.settle">
            function <span class="apidocSignatureSpan">when.</span>settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.some">
            function <span class="apidocSignatureSpan">when.</span>some
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.timeout">
            function <span class="apidocSignatureSpan">when.</span>timeout
            <span class="apidocSignatureSpan">(msec, trigger)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.toString">
            function <span class="apidocSignatureSpan">when.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.try">
            function <span class="apidocSignatureSpan">when.</span>try
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.unfold">
            function <span class="apidocSignatureSpan">when.</span>unfold
            <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>ConsoleReporter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>Promise.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>PromiseMonitor.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>Scheduler.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>TimeoutError.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>callbacks</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>console</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>env</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>error</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>format</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>function</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>generator</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>keys</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>node</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>state</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.ConsoleReporter">module when.ConsoleReporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter.ConsoleReporter">
            function <span class="apidocSignatureSpan">when.</span>ConsoleReporter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.ConsoleReporter.prototype">module when.ConsoleReporter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter.prototype._log">
            function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>_log
            <span class="apidocSignatureSpan">(traces)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter.prototype.groupEnd">
            function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>groupEnd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter.prototype.groupStart">
            function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>groupStart
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter.prototype.log">
            function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>log
            <span class="apidocSignatureSpan">(traces)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter.prototype.msg">
            function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>msg
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.ConsoleReporter.prototype.warn">
            function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>warn
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise">module when.Promise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.Promise">
            function <span class="apidocSignatureSpan">when.</span>Promise
            <span class="apidocSignatureSpan">(resolver, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._defer">
            function <span class="apidocSignatureSpan">when.Promise.</span>_defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._handler">
            function <span class="apidocSignatureSpan">when.Promise.</span>_handler
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._traverse">
            function <span class="apidocSignatureSpan">when.Promise.</span>_traverse
            <span class="apidocSignatureSpan">(f, promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._visitRemaining">
            function <span class="apidocSignatureSpan">when.Promise.</span>_visitRemaining
            <span class="apidocSignatureSpan">(promises, start, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.all">
            function <span class="apidocSignatureSpan">when.Promise.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.any">
            function <span class="apidocSignatureSpan">when.Promise.</span>any
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.createContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>createContext
            <span class="apidocSignatureSpan">(p, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.enterContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>enterContext
            <span class="apidocSignatureSpan">(p)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.exitContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>exitContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.filter">
            function <span class="apidocSignatureSpan">when.Promise.</span>filter
            <span class="apidocSignatureSpan">(promises, predicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.iterate">
            function <span class="apidocSignatureSpan">when.Promise.</span>iterate
            <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.map">
            function <span class="apidocSignatureSpan">when.Promise.</span>map
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.never">
            function <span class="apidocSignatureSpan">when.Promise.</span>never
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onFatalRejection">
            function <span class="apidocSignatureSpan">when.Promise.</span>onFatalRejection
            <span class="apidocSignatureSpan">(rejection, extraContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection">
            function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejection
            <span class="apidocSignatureSpan">(rejection, extraContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled">
            function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejectionHandled
            <span class="apidocSignatureSpan">(rejection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.race">
            function <span class="apidocSignatureSpan">when.Promise.</span>race
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduce">
            function <span class="apidocSignatureSpan">when.Promise.</span>reduce
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduceRight">
            function <span class="apidocSignatureSpan">when.Promise.</span>reduceRight
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reject">
            function <span class="apidocSignatureSpan">when.Promise.</span>reject
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.resolve">
            function <span class="apidocSignatureSpan">when.Promise.</span>resolve
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.settle">
            function <span class="apidocSignatureSpan">when.Promise.</span>settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.some">
            function <span class="apidocSignatureSpan">when.Promise.</span>some
            <span class="apidocSignatureSpan">(promises, n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.unfold">
            function <span class="apidocSignatureSpan">when.Promise.</span>unfold
            <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise._defer">module when.Promise._defer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._defer._defer">
            function <span class="apidocSignatureSpan">when.Promise.</span>_defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise._handler">module when.Promise._handler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._handler._handler">
            function <span class="apidocSignatureSpan">when.Promise.</span>_handler
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise._traverse">module when.Promise._traverse</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._traverse._traverse">
            function <span class="apidocSignatureSpan">when.Promise.</span>_traverse
            <span class="apidocSignatureSpan">(f, promises)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise._visitRemaining">module when.Promise._visitRemaining</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._visitRemaining._visitRemaining">
            function <span class="apidocSignatureSpan">when.Promise.</span>_visitRemaining
            <span class="apidocSignatureSpan">(promises, start, handler)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.all">module when.Promise.all</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.all.all">
            function <span class="apidocSignatureSpan">when.Promise.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.any">module when.Promise.any</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.any.any">
            function <span class="apidocSignatureSpan">when.Promise.</span>any
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.createContext">module when.Promise.createContext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.createContext.createContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>createContext
            <span class="apidocSignatureSpan">(p, context)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.enterContext">module when.Promise.enterContext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.enterContext.enterContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>enterContext
            <span class="apidocSignatureSpan">(p)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.exitContext">module when.Promise.exitContext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.exitContext.exitContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>exitContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.filter">module when.Promise.filter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.filter.filter">
            function <span class="apidocSignatureSpan">when.Promise.</span>filter
            <span class="apidocSignatureSpan">(promises, predicate)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.map">module when.Promise.map</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.map.map">
            function <span class="apidocSignatureSpan">when.Promise.</span>map
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.never">module when.Promise.never</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.never.never">
            function <span class="apidocSignatureSpan">when.Promise.</span>never
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.onFatalRejection">module when.Promise.onFatalRejection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onFatalRejection.onFatalRejection">
            function <span class="apidocSignatureSpan">when.Promise.</span>onFatalRejection
            <span class="apidocSignatureSpan">(rejection, extraContext)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.onPotentiallyUnhandledRejection">module when.Promise.onPotentiallyUnhandledRejection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection.onPotentiallyUnhandledRejection">
            function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejection
            <span class="apidocSignatureSpan">(rejection, extraContext)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.onPotentiallyUnhandledRejectionHandled">module when.Promise.onPotentiallyUnhandledRejectionHandled</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled.onPotentiallyUnhandledRejectionHandled">
            function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejectionHandled
            <span class="apidocSignatureSpan">(rejection)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype">module when.Promise.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype._beget">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>_beget
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.catch">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>catch
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.delay">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>delay
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.done">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>done
            <span class="apidocSignatureSpan">(onResult, onError)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.else">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>else
            <span class="apidocSignatureSpan">(defaultValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.ensure">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>ensure
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.finally">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>finally
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.fold">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>fold
            <span class="apidocSignatureSpan">(f, z)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.inspect">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.orElse">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>orElse
            <span class="apidocSignatureSpan">(defaultValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.otherwise">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>otherwise
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.progress">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>progress
            <span class="apidocSignatureSpan">(onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.spread">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>spread
            <span class="apidocSignatureSpan">(onFulfilled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.tap">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>tap
            <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.then">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>then
            <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.timeout">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.with">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>with
            <span class="apidocSignatureSpan">(receiver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.withThis">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>withThis
            <span class="apidocSignatureSpan">(receiver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.yield">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>yield
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype._beget">module when.Promise.prototype._beget</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype._beget._beget">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>_beget
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.catch">module when.Promise.prototype.catch</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.catch.catch">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>catch
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.delay">module when.Promise.prototype.delay</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.delay.delay">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>delay
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.done">module when.Promise.prototype.done</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.done.done">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>done
            <span class="apidocSignatureSpan">(onResult, onError)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.ensure">module when.Promise.prototype.ensure</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.ensure.ensure">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>ensure
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.fold">module when.Promise.prototype.fold</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.fold.fold">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>fold
            <span class="apidocSignatureSpan">(f, z)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.inspect">module when.Promise.prototype.inspect</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.inspect.inspect">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.orElse">module when.Promise.prototype.orElse</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.orElse.orElse">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>orElse
            <span class="apidocSignatureSpan">(defaultValue)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.progress">module when.Promise.prototype.progress</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.progress.progress">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>progress
            <span class="apidocSignatureSpan">(onProgress)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.spread">module when.Promise.prototype.spread</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.spread.spread">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>spread
            <span class="apidocSignatureSpan">(onFulfilled)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.tap">module when.Promise.prototype.tap</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.tap.tap">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>tap
            <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.then">module when.Promise.prototype.then</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.then.then">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>then
            <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.timeout">module when.Promise.prototype.timeout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.timeout.timeout">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms, reason)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.withThis">module when.Promise.prototype.withThis</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.withThis.withThis">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>withThis
            <span class="apidocSignatureSpan">(receiver)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype.yield">module when.Promise.prototype.yield</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.yield.yield">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>yield
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.race">module when.Promise.race</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.race.race">
            function <span class="apidocSignatureSpan">when.Promise.</span>race
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.reduce">module when.Promise.reduce</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduce.reduce">
            function <span class="apidocSignatureSpan">when.Promise.</span>reduce
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.reduceRight">module when.Promise.reduceRight</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduceRight.reduceRight">
            function <span class="apidocSignatureSpan">when.Promise.</span>reduceRight
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.settle">module when.Promise.settle</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.settle.settle">
            function <span class="apidocSignatureSpan">when.Promise.</span>settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.some">module when.Promise.some</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.some.some">
            function <span class="apidocSignatureSpan">when.Promise.</span>some
            <span class="apidocSignatureSpan">(promises, n)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.PromiseMonitor">module when.PromiseMonitor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.PromiseMonitor">
            function <span class="apidocSignatureSpan">when.</span>PromiseMonitor
            <span class="apidocSignatureSpan">(reporter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.PromiseMonitor.prototype">module when.PromiseMonitor.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype._appendContext">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_appendContext
            <span class="apidocSignatureSpan">(trace, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype._createLongTrace">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_createLongTrace
            <span class="apidocSignatureSpan">(e, context, extraContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype._createTrace">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_createTrace
            <span class="apidocSignatureSpan">(traceChain)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype._logTraces">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_logTraces
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype._removeDuplicates">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_removeDuplicates
            <span class="apidocSignatureSpan">(trace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype.addTrace">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>addTrace
            <span class="apidocSignatureSpan">(handler, extraContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype.createContext">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>createContext
            <span class="apidocSignatureSpan">(at, parentContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype.fatal">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>fatal
            <span class="apidocSignatureSpan">(handler, extraContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype.formatTraces">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>formatTraces
            <span class="apidocSignatureSpan">(traces)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype.logTraces">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>logTraces
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype.monitor">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>monitor
            <span class="apidocSignatureSpan">(Promise)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.PromiseMonitor.prototype.removeTrace">
            function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>removeTrace
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Scheduler">module when.Scheduler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Scheduler.Scheduler">
            function <span class="apidocSignatureSpan">when.</span>Scheduler
            <span class="apidocSignatureSpan">(async)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Scheduler.prototype">module when.Scheduler.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Scheduler.prototype._drain">
            function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>_drain
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Scheduler.prototype.afterQueue">
            function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>afterQueue
            <span class="apidocSignatureSpan">(task)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Scheduler.prototype.enqueue">
            function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>enqueue
            <span class="apidocSignatureSpan">(task)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Scheduler.prototype.run">
            function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.TimeoutError">module when.TimeoutError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.TimeoutError.TimeoutError">
            function <span class="apidocSignatureSpan">when.</span>TimeoutError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.TimeoutError.prototype">module when.TimeoutError.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.TimeoutError.prototype.constructor">
            function <span class="apidocSignatureSpan">when.TimeoutError.prototype.</span>constructor
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.all">module when.all</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.all.all">
            function <span class="apidocSignatureSpan">when.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.any">module when.any</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.any.any">
            function <span class="apidocSignatureSpan">when.</span>any
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.apply">module when.apply</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.apply.apply">
            function <span class="apidocSignatureSpan">when.</span>apply
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.apply.tryCatchResolve">
            function <span class="apidocSignatureSpan">when.apply.</span>tryCatchResolve
            <span class="apidocSignatureSpan">(f, thisArg, args, resolver)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.callbacks">module when.callbacks</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.apply">
            function <span class="apidocSignatureSpan">when.callbacks.</span>apply
            <span class="apidocSignatureSpan">(asyncFunction, extraAsyncArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.call">
            function <span class="apidocSignatureSpan">when.callbacks.</span>call
            <span class="apidocSignatureSpan">(asyncFunction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.lift">
            function <span class="apidocSignatureSpan">when.callbacks.</span>lift
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.liftAll">
            function <span class="apidocSignatureSpan">when.callbacks.</span>liftAll
            <span class="apidocSignatureSpan">(src, combine, dst)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.promisify">
            function <span class="apidocSignatureSpan">when.callbacks.</span>promisify
            <span class="apidocSignatureSpan">(asyncFunction, positions)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.cancelable">module when.cancelable</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.cancelable.cancelable">
            function <span class="apidocSignatureSpan">when.</span>cancelable
            <span class="apidocSignatureSpan">(deferred, canceler)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.console">module when.console</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">when.console.</span>filterDuplicateFrames</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.console._doLogTraces">
            function <span class="apidocSignatureSpan">when.console.</span>_doLogTraces
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">when.console.</span>_traceTask</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">when.console.</span>logDelay</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.console.</span>_reporter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.console.</span>_traces</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.console.</span>stackFilter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">when.console.</span>stackJumpSeparator</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.defer">module when.defer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.defer.defer">
            function <span class="apidocSignatureSpan">when.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.delay">module when.delay</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.delay.delay">
            function <span class="apidocSignatureSpan">when.</span>delay
            <span class="apidocSignatureSpan">(msec, value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.env">module when.env</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.env.asap">
            function <span class="apidocSignatureSpan">when.env.</span>asap
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.env.clearTimer">
            function <span class="apidocSignatureSpan">when.env.</span>clearTimer
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.env.setTimer">
            function <span class="apidocSignatureSpan">when.env.</span>setTimer
            <span class="apidocSignatureSpan">(f, ms)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.error">module when.error</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.error.captureStack">
            function <span class="apidocSignatureSpan">when.error.</span>captureStack
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.error.format">
            function <span class="apidocSignatureSpan">when.error.</span>format
            <span class="apidocSignatureSpan">(longTrace)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.error.parse">
            function <span class="apidocSignatureSpan">when.error.</span>parse
            <span class="apidocSignatureSpan">(e)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.filter">module when.filter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.filter.filter">
            function <span class="apidocSignatureSpan">when.</span>filter
            <span class="apidocSignatureSpan">(promises, predicate)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.format">module when.format</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.format.formatError">
            function <span class="apidocSignatureSpan">when.format.</span>formatError
            <span class="apidocSignatureSpan">(e)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.format.formatObject">
            function <span class="apidocSignatureSpan">when.format.</span>formatObject
            <span class="apidocSignatureSpan">(o)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.format.tryStringify">
            function <span class="apidocSignatureSpan">when.format.</span>tryStringify
            <span class="apidocSignatureSpan">(x, defaultValue)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.function">module when.function</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.function.apply">
            function <span class="apidocSignatureSpan">when.function.</span>apply
            <span class="apidocSignatureSpan">(f, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.function.call">
            function <span class="apidocSignatureSpan">when.function.</span>call
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.function.compose">
            function <span class="apidocSignatureSpan">when.function.</span>compose
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.function.lift">
            function <span class="apidocSignatureSpan">when.function.</span>lift
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.function.liftAll">
            function <span class="apidocSignatureSpan">when.function.</span>liftAll
            <span class="apidocSignatureSpan">(src, combine, dst)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.generator">module when.generator</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.generator.apply">
            function <span class="apidocSignatureSpan">when.generator.</span>apply
            <span class="apidocSignatureSpan">(generator, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.generator.call">
            function <span class="apidocSignatureSpan">when.generator.</span>call
            <span class="apidocSignatureSpan">(generator)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.generator.lift">
            function <span class="apidocSignatureSpan">when.generator.</span>lift
            <span class="apidocSignatureSpan">(generator)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.guard">module when.guard</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.guard.guard">
            function <span class="apidocSignatureSpan">when.</span>guard
            <span class="apidocSignatureSpan">(condition, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.guard.n">
            function <span class="apidocSignatureSpan">when.guard.</span>n
            <span class="apidocSignatureSpan">(allowed)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.isPromiseLike">module when.isPromiseLike</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.isPromiseLike.isPromiseLike">
            function <span class="apidocSignatureSpan">when.</span>isPromiseLike
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.iterate">module when.iterate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.iterate.iterate">
            function <span class="apidocSignatureSpan">when.</span>iterate
            <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.join">module when.join</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.join.join">
            function <span class="apidocSignatureSpan">when.</span>join
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.keys">module when.keys</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.keys.all">
            function <span class="apidocSignatureSpan">when.keys.</span>all
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.keys.map">
            function <span class="apidocSignatureSpan">when.keys.</span>map
            <span class="apidocSignatureSpan">(object, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.keys.settle">
            function <span class="apidocSignatureSpan">when.keys.</span>settle
            <span class="apidocSignatureSpan">(object)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.lift">module when.lift</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.lift.lift">
            function <span class="apidocSignatureSpan">when.</span>lift
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.liftAll">module when.liftAll</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.liftAll.liftAll">
            function <span class="apidocSignatureSpan">when.</span>liftAll
            <span class="apidocSignatureSpan">(liftOne, combine, dst, src)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.list">module when.list</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.list.list">
            function <span class="apidocSignatureSpan">when.</span>list
            <span class="apidocSignatureSpan">(generator, condition, seed)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.makePromise">module when.makePromise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.makePromise.makePromise">
            function <span class="apidocSignatureSpan">when.</span>makePromise
            <span class="apidocSignatureSpan">(environment)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.map">module when.map</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.map.map">
            function <span class="apidocSignatureSpan">when.</span>map
            <span class="apidocSignatureSpan">(promises, mapFunc)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.monitor">module when.monitor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.monitor.monitor">
            function <span class="apidocSignatureSpan">when.</span>monitor
            <span class="apidocSignatureSpan">(Promise)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.node">module when.node</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.node.apply">
            function <span class="apidocSignatureSpan">when.node.</span>apply
            <span class="apidocSignatureSpan">(f, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.node.bindCallback">
            function <span class="apidocSignatureSpan">when.node.</span>bindCallback
            <span class="apidocSignatureSpan">(promise, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.node.call">
            function <span class="apidocSignatureSpan">when.node.</span>call
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.node.createCallback">
            function <span class="apidocSignatureSpan">when.node.</span>createCallback
            <span class="apidocSignatureSpan">(resolver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.node.lift">
            function <span class="apidocSignatureSpan">when.node.</span>lift
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.node.liftAll">
            function <span class="apidocSignatureSpan">when.node.</span>liftAll
            <span class="apidocSignatureSpan">(src, combine, dst)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.node.liftCallback">
            function <span class="apidocSignatureSpan">when.node.</span>liftCallback
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.parallel">module when.parallel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.parallel.parallel">
            function <span class="apidocSignatureSpan">when.</span>parallel
            <span class="apidocSignatureSpan">(tasks)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.pipeline">module when.pipeline</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.pipeline.pipeline">
            function <span class="apidocSignatureSpan">when.</span>pipeline
            <span class="apidocSignatureSpan">(tasks)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.poll">module when.poll</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.poll.poll">
            function <span class="apidocSignatureSpan">when.</span>poll
            <span class="apidocSignatureSpan">(task, interval, verifier, delayInitialTask)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.promise">module when.promise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.promise.promise">
            function <span class="apidocSignatureSpan">when.</span>promise
            <span class="apidocSignatureSpan">(resolver)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.race">module when.race</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.race.race">
            function <span class="apidocSignatureSpan">when.</span>race
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.reduce">module when.reduce</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reduce.reduce">
            function <span class="apidocSignatureSpan">when.</span>reduce
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.reduceRight">module when.reduceRight</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reduceRight.reduceRight">
            function <span class="apidocSignatureSpan">when.</span>reduceRight
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.reject">module when.reject</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reject.reject">
            function <span class="apidocSignatureSpan">when.</span>reject
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.resolve">module when.resolve</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.resolve.resolve">
            function <span class="apidocSignatureSpan">when.</span>resolve
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.sequence">module when.sequence</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.sequence.sequence">
            function <span class="apidocSignatureSpan">when.</span>sequence
            <span class="apidocSignatureSpan">(tasks)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.settle">module when.settle</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.settle.settle">
            function <span class="apidocSignatureSpan">when.</span>settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.some">module when.some</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.some.some">
            function <span class="apidocSignatureSpan">when.</span>some
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.state">module when.state</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.state.fulfilled">
            function <span class="apidocSignatureSpan">when.state.</span>fulfilled
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.state.inspect">
            function <span class="apidocSignatureSpan">when.state.</span>inspect
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.state.pending">
            function <span class="apidocSignatureSpan">when.state.</span>pending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.state.rejected">
            function <span class="apidocSignatureSpan">when.state.</span>rejected
            <span class="apidocSignatureSpan">(e)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.timeout">module when.timeout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.timeout.timeout">
            function <span class="apidocSignatureSpan">when.</span>timeout
            <span class="apidocSignatureSpan">(msec, trigger)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.toString">module when.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.toString.toString">
            function <span class="apidocSignatureSpan">when.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.try">module when.try</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.try.try">
            function <span class="apidocSignatureSpan">when.</span>try
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.unfold">module when.unfold</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.unfold.unfold">
            function <span class="apidocSignatureSpan">when.</span>unfold
            <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when" id="apidoc.module.when">module when</a></h1>


    <h2>
        <a href="#apidoc.element.when.when" id="apidoc.element.when.when">
        function <span class="apidocSignatureSpan"></span>when
        <span class="apidocSignatureSpan">(x, onFulfilled, onRejected, onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function when(x, onFulfilled, onRejected, onProgress) {
		var p = Promise.resolve(x);
		if (arguments.length &#x3c; 2) {
			return p;
		}

		return p.then(onFulfilled, onRejected, onProgress);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			while(h.handler !== void 0) {
				h = h.handler;
			}
			return h;
		};

		Handler.prototype.chain = function(to, receiver, fulfilled, rejected, progress) {
			this.<span class="apidocCodeKeywordSpan">when</span>({
				resolver: to,
				receiver: receiver,
				fulfilled: fulfilled,
				rejected: rejected,
				progress: progress
			});
		};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.ConsoleReporter" id="apidoc.element.when.ConsoleReporter">
        function <span class="apidocSignatureSpan">when.</span>ConsoleReporter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConsoleReporter() {
		this._previouslyReported = false;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise" id="apidoc.element.when.Promise">
        function <span class="apidocSignatureSpan">when.</span>Promise
        <span class="apidocSignatureSpan">(resolver, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(resolver, handler) {
			this._handler = resolver === Handler ? handler : init(resolver);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._defer" id="apidoc.element.when.Promise._defer">
        function <span class="apidocSignatureSpan">when.</span>Promise._defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defer() {
			return new Promise(Handler, new Pending());
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._handler" id="apidoc.element.when.Promise._handler">
        function <span class="apidocSignatureSpan">when.</span>Promise._handler
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getHandler(x) {
			if(isPromise(x)) {
				return x._handler.join();
			}
			return maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._traverse" id="apidoc.element.when.Promise._traverse">
        function <span class="apidocSignatureSpan">when.</span>Promise._traverse
        <span class="apidocSignatureSpan">(f, promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function traverse(f, promises) {
			return traverseWith(tryCatch2, f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._visitRemaining" id="apidoc.element.when.Promise._visitRemaining">
        function <span class="apidocSignatureSpan">when.</span>Promise._visitRemaining
        <span class="apidocSignatureSpan">(promises, start, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function visitRemaining(promises, start, handler) {
			for(var i=start; i&#x3c;promises.length; ++i) {
				markAsHandled(getHandler(promises[i]), handler);
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.all" id="apidoc.element.when.Promise.all">
        function <span class="apidocSignatureSpan">when.</span>Promise.all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function all(promises) {
			return traverseWith(snd, null, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.any" id="apidoc.element.when.Promise.any">
        function <span class="apidocSignatureSpan">when.</span>Promise.any
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function any(promises) {
			var p = Promise._defer();
			var resolver = p._handler;
			var l = promises.length&#x3e;&#x3e;&#x3e;0;

			var pending = l;
			var errors = [];

			for (var h, x, i = 0; i &#x3c; l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					--pending;
					continue;
				}

				h = Promise._handler(x);
				if(h.state() &#x3e; 0) {
					resolver.become(h);
					Promise._visitRemaining(promises, i, h);
					break;
				} else {
					h.visit(resolver, handleFulfill, handleReject);
				}
			}

			if(pending === 0) {
				resolver.reject(new RangeError(&#x27;any(): array must not be empty&#x27;));
			}

			return p;

			function handleFulfill(x) {
				<span class="apidocCodeCommentSpan">/*jshint validthis:true*/
</span>				errors = null;
				this.resolve(x); // this === resolver
			}

			function handleReject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--pending === 0) {
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.createContext" id="apidoc.element.when.Promise.createContext">
        function <span class="apidocSignatureSpan">when.</span>Promise.createContext
        <span class="apidocSignatureSpan">(p, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.createContext = function (p, context) {
			p.context = self.createContext(p, context);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.enterContext" id="apidoc.element.when.Promise.enterContext">
        function <span class="apidocSignatureSpan">when.</span>Promise.enterContext
        <span class="apidocSignatureSpan">(p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.enterContext = function (p) {
			executionContext.push(p.context);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.exitContext" id="apidoc.element.when.Promise.exitContext">
        function <span class="apidocSignatureSpan">when.</span>Promise.exitContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.exitContext = function () {
			executionContext.pop();
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.filter" id="apidoc.element.when.Promise.filter">
        function <span class="apidocSignatureSpan">when.</span>Promise.filter
        <span class="apidocSignatureSpan">(promises, predicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter(promises, predicate) {
			var a = slice.call(promises);
			return Promise._traverse(predicate, a).then(function(keep) {
				return filterSync(a, keep);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.map" id="apidoc.element.when.Promise.map">
        function <span class="apidocSignatureSpan">when.</span>Promise.map
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(promises, f) {
			return Promise._traverse(f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.never" id="apidoc.element.when.Promise.never">
        function <span class="apidocSignatureSpan">when.</span>Promise.never
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function never() {
			return foreverPendingPromise; // Should be frozen
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onFatalRejection" id="apidoc.element.when.Promise.onFatalRejection">
        function <span class="apidocSignatureSpan">when.</span>Promise.onFatalRejection
        <span class="apidocSignatureSpan">(rejection, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.onFatalRejection = function (rejection, extraContext) {
			return self.fatal(rejection, extraContext);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejection">
        function <span class="apidocSignatureSpan">when.</span>Promise.onPotentiallyUnhandledRejection
        <span class="apidocSignatureSpan">(rejection, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.onPotentiallyUnhandledRejection = function (rejection, extraContext) {
			return self.addTrace(rejection, extraContext);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled">
        function <span class="apidocSignatureSpan">when.</span>Promise.onPotentiallyUnhandledRejectionHandled
        <span class="apidocSignatureSpan">(rejection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.onPotentiallyUnhandledRejectionHandled = function (rejection) {
			return self.removeTrace(rejection);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype._beget" id="apidoc.element.when.Promise.prototype._beget">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype._beget
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype._beget = function () {
			return begetFrom(this._handler, this.constructor);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.catch" id="apidoc.element.when.Promise.prototype.catch">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.catch
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.catch = function (onRejected) {
			if (arguments.length &#x3c; 2) {
				return origCatch.call(this, onRejected);
			}

			if(typeof onRejected !== &#x27;function&#x27;) {
				return this.ensure(rejectInvalidPredicate);
			}

			return origCatch.call(this, createCatchFilter(arguments[1], onRejected));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.delay" id="apidoc.element.when.Promise.prototype.delay">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.delay
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.delay = function (ms) {
			var p = this._beget();
			this._handler.fold(handleDelay, ms, void 0, p._handler);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.done" id="apidoc.element.when.Promise.prototype.done">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.done
        <span class="apidocSignatureSpan">(onResult, onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.done = function (onResult, onError) {
			this._handler.visit(this._handler.receiver, onResult, onError);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.ensure" id="apidoc.element.when.Promise.prototype.ensure">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.ensure
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.ensure = function (handler) {
			if(typeof handler !== &#x27;function&#x27;) {
				return this;
			}

			return this.then(function(x) {
				return runSideEffect(handler, this, identity, x);
			}, function(e) {
				return runSideEffect(handler, this, reject, e);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.fold" id="apidoc.element.when.Promise.prototype.fold">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.fold
        <span class="apidocSignatureSpan">(f, z)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.fold = function (f, z) {
			var promise = this._beget();

			this._handler.fold(function(z, x, to) {
				Promise._handler(z).fold(function(x, z, to) {
					to.resolve(f.call(this, z, x));
				}, x, this, to);
			}, z, promise._handler.receiver, promise._handler);

			return promise;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.inspect" id="apidoc.element.when.Promise.prototype.inspect">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.inspect = function () {
			return inspect(Promise._handler(this));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.orElse" id="apidoc.element.when.Promise.prototype.orElse">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.orElse
        <span class="apidocSignatureSpan">(defaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.orElse = function (defaultValue) {
			return this.then(void 0, function() {
				return defaultValue;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.progress" id="apidoc.element.when.Promise.prototype.progress">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.progress
        <span class="apidocSignatureSpan">(onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.progress = function (onProgress) {
			return this.then(void 0, void 0, onProgress);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.spread" id="apidoc.element.when.Promise.prototype.spread">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.spread
        <span class="apidocSignatureSpan">(onFulfilled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.spread = function (onFulfilled) {
			return this.then(all).then(function(array) {
				return onFulfilled.apply(this, array);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.tap" id="apidoc.element.when.Promise.prototype.tap">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.tap
        <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.tap = function (onFulfilledSideEffect) {
			return this.then(onFulfilledSideEffect)[&#x27;yield&#x27;](this);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.then" id="apidoc.element.when.Promise.prototype.then">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.then
        <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.then = function (onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.join().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this._beget();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.timeout" id="apidoc.element.when.Promise.prototype.timeout">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.timeout
        <span class="apidocSignatureSpan">(ms, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.timeout = function (ms, reason) {
			var p = this._beget();
			var h = p._handler;

			var t = setTimeout(onTimeout, ms, reason, p._handler);

			this._handler.visit(h,
				function onFulfill(x) {
					env.clearTimer(t);
					this.resolve(x); // this = h
				},
				function onReject(x) {
					env.clearTimer(t);
					this.reject(x); // this = h
				},
				h.notify);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.withThis" id="apidoc.element.when.Promise.prototype.withThis">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.withThis
        <span class="apidocSignatureSpan">(receiver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.withThis = function (receiver) {
			var p = this._beget();
			var child = p._handler;
			child.receiver = receiver;
			this._handler.chain(child, receiver);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.yield" id="apidoc.element.when.Promise.prototype.yield">
        function <span class="apidocSignatureSpan">when.</span>Promise.prototype.yield
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Promise.prototype.yield = function (value) {
			return this.then(function() {
				return value;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.race" id="apidoc.element.when.Promise.race">
        function <span class="apidocSignatureSpan">when.</span>Promise.race
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function race(promises) {
			if(typeof promises !== &#x27;object&#x27; || promises === null) {
				return reject(new TypeError(&#x27;non-iterable passed to race()&#x27;));
			}

			// Sigh, race([]) is untestable unless we return *something*
			// that is recognizable without calling .then() on it.
			return promises.length === 0 ? never()
				 : promises.length === 1 ? resolve(promises[0])
				 : runRace(promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reduce" id="apidoc.element.when.Promise.reduce">
        function <span class="apidocSignatureSpan">when.</span>Promise.reduce
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduce(promises, f) {
			return arguments.length &#x3e; 2 ? ar.call(promises, liftCombine(f), arguments[2])
					: ar.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reduceRight" id="apidoc.element.when.Promise.reduceRight">
        function <span class="apidocSignatureSpan">when.</span>Promise.reduceRight
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduceRight(promises, f) {
			return arguments.length &#x3e; 2 ? arr.call(promises, liftCombine(f), arguments[2])
					: arr.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.settle" id="apidoc.element.when.Promise.settle">
        function <span class="apidocSignatureSpan">when.</span>Promise.settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(promises) {
			return all(promises.map(settleOne));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.some" id="apidoc.element.when.Promise.some">
        function <span class="apidocSignatureSpan">when.</span>Promise.some
        <span class="apidocSignatureSpan">(promises, n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function some(promises, n) {
			<span class="apidocCodeCommentSpan">/*jshint maxcomplexity:7*/
</span>			var p = Promise._defer();
			var resolver = p._handler;

			var results = [];
			var errors = [];

			var l = promises.length&#x3e;&#x3e;&#x3e;0;
			var nFulfill = 0;
			var nReject;
			var x, i; // reused in both for() loops

			// First pass: count actual array items
			for(i=0; i&#x3c;l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					continue;
				}
				++nFulfill;
			}

			// Compute actual goals
			n = Math.max(n, 0);
			nReject = (nFulfill - n + 1);
			nFulfill = Math.min(n, nFulfill);

			if(n &#x3e; nFulfill) {
				resolver.reject(new RangeError(&#x27;some(): array must contain at least &#x27;
				+ n + &#x27; item(s), but had &#x27; + nFulfill));
			} else if(nFulfill === 0) {
				resolver.resolve(results);
			}

			// Second pass: observe each array item, make progress toward goals
			for(i=0; i&#x3c;l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					continue;
				}

				Promise._handler(x).visit(resolver, fulfill, reject, resolver.notify);
			}

			return p;

			function fulfill(x) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				results.push(x);
				if(--nFulfill === 0) {
					errors = null;
					this.resolve(results);
				}
			}

			function reject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--nReject === 0) {
					results = null;
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor" id="apidoc.element.when.PromiseMonitor">
        function <span class="apidocSignatureSpan">when.</span>PromiseMonitor
        <span class="apidocSignatureSpan">(reporter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PromiseMonitor(reporter) {
		this.logDelay = 0;
		this.stackFilter = defaultStackFilter;
		this.stackJumpSeparator = defaultStackJumpSeparator;
		this.filterDuplicateFrames = true;

		this._reporter = reporter;
		if(typeof reporter.configurePromiseMonitor === &#x27;function&#x27;) {
			reporter.configurePromiseMonitor(this);
		}

		this._traces = [];
		this._traceTask = 0;

		var self = this;
		this._doLogTraces = function() {
			self._logTraces();
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Scheduler" id="apidoc.element.when.Scheduler">
        function <span class="apidocSignatureSpan">when.</span>Scheduler
        <span class="apidocSignatureSpan">(async)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Scheduler(async) {
		this._async = async;
		this._running = false;

		this._queue = this;
		this._queueLen = 0;
		this._afterQueue = {};
		this._afterQueueLen = 0;

		var self = this;
		this.drain = function() {
			self._drain();
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.TimeoutError" id="apidoc.element.when.TimeoutError">
        function <span class="apidocSignatureSpan">when.</span>TimeoutError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TimeoutError(message) {
		Error.call(this);
		this.message = message;
		this.name = TimeoutError.name;
		if (typeof Error.captureStackTrace === &#x27;function&#x27;) {
			Error.captureStackTrace(this, TimeoutError);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.all" id="apidoc.element.when.all">
        function <span class="apidocSignatureSpan">when.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function all(promises) {
		return when(promises, Promise.all);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Return a promise that will resolve only once all the supplied arguments
	 * have resolved. The resolution value of the returned promise will be an array
	 * containing the resolution values of each of the arguments.
	 * @param {...*} arguments may be a mix of promises and values
	 * @returns {Promise}
	 */
	function join(/* ...promises */) {
		return Promise.<span class="apidocCodeKeywordSpan">all</span>(arguments);
	}

	/**
	 * Return a promise that will fulfill once all input promises have
	 * fulfilled, or reject when any one input promise rejects.
	 * @param {array|Promise} promises array (or promise for an array) of promises
	 * @returns {Promise}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.any" id="apidoc.element.when.any">
        function <span class="apidocSignatureSpan">when.</span>any
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">any = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.apply" id="apidoc.element.when.apply">
        function <span class="apidocSignatureSpan">when.</span>apply
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function apply() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Takes a `traditional` callback-taking function and returns a promise for its
	 * result, accepting an optional array of arguments (that might be values or
	 * promises). It assumes that the function takes its callback and errback as
	 * the last two arguments. The resolution of the promise depends on whether the
	 * function will call its callback or its errback.
	 *
	 * @example
	 *    var domIsLoaded = callbacks.<span class="apidocCodeKeywordSpan">apply</span>($);
	 *    domIsLoaded.then(function() {
	 *		doMyDomStuff();
	 *	});
	 *
	 * @example
	 *    function existingAjaxyFunction(url, callback, errback) {
	 *		// Complex logic you&#x27;d rather not change
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.attempt" id="apidoc.element.when.attempt">
        function <span class="apidocSignatureSpan">when.</span>attempt
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function attempt(f) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true */
</span>		for(var i=0, l=arguments.length-1, a=new Array(l); i&#x3c;l; ++i) {
			a[i] = arguments[i+1];
		}
		return apply(f, this, a);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.cancelable" id="apidoc.element.when.cancelable">
        function <span class="apidocSignatureSpan">when.</span>cancelable
        <span class="apidocSignatureSpan">(deferred, canceler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cancelable = function (deferred, canceler) {
    // Add a cancel method to the deferred to reject the delegate
    // with the special canceled indicator.
    deferred.cancel = function() {
			try {
				deferred.reject(canceler(deferred));
			} catch(e) {
				deferred.reject(e);
			}

			return deferred.promise;
    };

    return deferred;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.defer" id="apidoc.element.when.defer">
        function <span class="apidocSignatureSpan">when.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defer() {
		return new Deferred();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Decorator that makes a deferred &#x22;cancelable&#x22;.  It adds a cancel() method that
 * will call a special cancel handler function and then reject the deferred.  The
 * cancel handler can be used to do resource cleanup, or anything else that should
 * be done before any other rejection handlers are executed.
 *
 * Usage:
 *
 * var cancelableDeferred = cancelable(when.<span class="apidocCodeKeywordSpan">defer</span>(), myCancelHandler);
 *
 * @author brian@hovercraftstudios.com
 */

(function(define) {
define(function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.delay" id="apidoc.element.when.delay">
        function <span class="apidocSignatureSpan">when.</span>delay
        <span class="apidocSignatureSpan">(msec, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function delay(msec, value) {
		return when(value).delay(msec);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(value).<span class="apidocCodeKeywordSpan">delay</span>(ms)
     */
    return function delay(msec, value) {
		return when(value).delay(msec);
    };

});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.filter" id="apidoc.element.when.filter">
        function <span class="apidocSignatureSpan">when.</span>filter
        <span class="apidocSignatureSpan">(promises, predicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter(promises, predicate) {
		return when(promises, function(promises) {
			return Promise.filter(promises, predicate);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.settle      = settle;               // Settle a list of promises

	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.<span class="apidocCodeKeywordSpan">filter</span>() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.guard" id="apidoc.element.when.guard">
        function <span class="apidocSignatureSpan">when.</span>guard
        <span class="apidocSignatureSpan">(condition, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function guard(condition, f) {
		return function() {
			var args = slice.call(arguments);

			return when(condition()).withThis(this).then(function(exit) {
				return when(f.apply(this, args))[&#x27;finally&#x27;](exit);
			});
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.isPromiseLike" id="apidoc.element.when.isPromiseLike">
        function <span class="apidocSignatureSpan">when.</span>isPromiseLike
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPromiseLike(x) {
		return x &#x26;&#x26; typeof x.then === &#x27;function&#x27;;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.iterate" id="apidoc.element.when.iterate">
        function <span class="apidocSignatureSpan">when.</span>iterate
        <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function iterate(f, condition, handler, x) {
			return unfold(function(x) {
				return [x, f(x)];
			}, condition, handler, x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.join" id="apidoc.element.when.join">
        function <span class="apidocSignatureSpan">when.</span>join
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function join() {
		return Promise.all(arguments);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		 * @param {function=} onFulfilled fulfillment handler
		 * @param {function=} onRejected rejection handler
		 * @param {function=} onProgress @deprecated progress handler
		 * @return {Promise} new promise
		 */
		Promise.prototype.then = function(onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.<span class="apidocCodeKeywordSpan">join</span>().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.lift" id="apidoc.element.when.lift">
        function <span class="apidocSignatureSpan">when.</span>lift
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(f) {
		return function() {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax(&#x22;GET&#x22;, &#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, &#x22;GET&#x22;);
	 *    promiseAjaxGet(&#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.liftAll" id="apidoc.element.when.liftAll">
        function <span class="apidocSignatureSpan">when.</span>liftAll
        <span class="apidocSignatureSpan">(liftOne, combine, dst, src)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function liftAll(liftOne, combine, dst, src) {
		if(typeof combine === &#x27;undefined&#x27;) {
			combine = defaultCombine;
		}

		return Object.keys(src).reduce(function(dst, key) {
			var f = src[key];
			return typeof f === &#x27;function&#x27; ? combine(dst, liftOne(f), key) : dst;
		}, typeof dst === &#x27;undefined&#x27; ? defaultDst(src) : dst);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.list" id="apidoc.element.when.list">
        function <span class="apidocSignatureSpan">when.</span>list
        <span class="apidocSignatureSpan">(generator, condition, seed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function list(generator, condition, seed) {
		var result = [];

		return unfold(generator, condition, append, seed)[&#x27;yield&#x27;](result);

		function append(value, newSeed) {
			result.push(value);
			return newSeed;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.makePromise" id="apidoc.element.when.makePromise">
        function <span class="apidocSignatureSpan">when.</span>makePromise
        <span class="apidocSignatureSpan">(environment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makePromise(environment) {

		var tasks = environment.scheduler;
		var emitRejection = initEmitRejection();

		var objectCreate = Object.create ||
			function(proto) {
				function Child() {}
				Child.prototype = proto;
				return new Child();
			};

		<span class="apidocCodeCommentSpan">/**
		 * Create a promise whose fate is determined by resolver
		 * @constructor
		 * @returns {Promise} promise
		 * @name Promise
		 */
</span>		function Promise(resolver, handler) {
			this._handler = resolver === Handler ? handler : init(resolver);
		}

		/**
		 * Run the supplied resolver
		 * @param resolver
		 * @returns {Pending}
		 */
		function init(resolver) {
			var handler = new Pending();

			try {
				resolver(promiseResolve, promiseReject, promiseNotify);
			} catch (e) {
				promiseReject(e);
			}

			return handler;

			/**
			 * Transition from pre-resolution state to post-resolution state, notifying
			 * all listeners of the ultimate fulfillment or rejection
			 * @param {*} x resolution value
			 */
			function promiseResolve (x) {
				handler.resolve(x);
			}
			/**
			 * Reject this promise with reason, which will be used verbatim
			 * @param {Error|*} reason rejection reason, strongly suggested
			 *   to be an Error type
			 */
			function promiseReject (reason) {
				handler.reject(reason);
			}

			/**
			 * @deprecated
			 * Issue a progress event, notifying all progress listeners
			 * @param {*} x progress event payload to pass to all listeners
			 */
			function promiseNotify (x) {
				handler.notify(x);
			}
		}

		// Creation

		Promise.resolve = resolve;
		Promise.reject = reject;
		Promise.never = never;

		Promise._defer = defer;
		Promise._handler = getHandler;

		/**
		 * Returns a trusted promise. If x is already a trusted promise, it is
		 * returned, otherwise returns a new trusted Promise which follows x.
		 * @param  {*} x
		 * @return {Promise} promise
		 */
		function resolve(x) {
			return isPromise(x) ? x
				: new Promise(Handler, new Async(getHandler(x)));
		}

		/**
		 * Return a reject promise with x as its reason (x is used verbatim)
		 * @param {*} x
		 * @returns {Promise} rejected promise
		 */
		function reject(x) {
			return new Promise(Handler, new Async(new Rejected(x)));
		}

		/**
		 * Return a promise that remains pending forever
		 * @returns {Promise} forever-pending promise.
		 */
		function never() {
			return foreverPendingPromise; // Should be frozen
		}

		/**
		 * Creates an internal {promise, resolver} pair
		 * @private
		 * @returns {Promise}
		 */
		function defer() {
			return new Promise(Handler, new Pending());
		}

		// Transformation and flow control

		/**
		 * Transform this promise&#x27;s fulfillment value, returning a new Promise
		 * for the transformed result.  If the promise cannot be fulfilled, onRejected
		 * is called with the reason.  onProgress *may* be called with updates toward
		 * this promise&#x27;s fulfillment.
		 * @param {function=} onFulfilled fulfillment handler
		 * @param {function=} onRejected rejection handler
		 * @param {function=} onProgress @deprecated progress handler
		 * @return {Promise} new promise
		 */
		Promise.prototype.then = function(onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.join().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this._beget();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		};

		/**
		 * If this promise cannot be fulfilled due to an error, call onRejected to
		 * handle the error. Shortcut for .then(undefined, onRejected)
		 * @param {function?} onRejected
		 * @return {Promise}
		 */
		Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
			return this.then(void 0, onRejected);
		};

		/**
		 * Creates a new, pending promise of the same type as this promise
		 * @private
		 * @returns {Promise}
		 */
		Promise.proto ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.map" id="apidoc.element.when.map">
        function <span class="apidocSignatureSpan">when.</span>map
        <span class="apidocSignatureSpan">(promises, mapFunc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(promises, mapFunc) {
		return when(promises, function(promises) {
			return Promise.map(promises, mapFunc);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.reduce(when.<span class="apidocCodeKeywordSpan">map</span>(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.monitor" id="apidoc.element.when.monitor">
        function <span class="apidocSignatureSpan">when.</span>monitor
        <span class="apidocSignatureSpan">(Promise)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">monitor = function (Promise) {
		return promiseMonitor.monitor(Promise);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	var PromiseMonitor = require(&#x27;./monitor/PromiseMonitor&#x27;);
	var ConsoleReporter = require(&#x27;./monitor/ConsoleReporter&#x27;);

	var promiseMonitor = new PromiseMonitor(new ConsoleReporter());

	return function(Promise) {
		return promiseMonitor.<span class="apidocCodeKeywordSpan">monitor</span>(Promise);
	};
});
}(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function(factory) { module.exports = factory(require
); }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.parallel" id="apidoc.element.when.parallel">
        function <span class="apidocSignatureSpan">when.</span>parallel
        <span class="apidocSignatureSpan">(tasks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parallel(tasks) {
		return all(slice.call(arguments, 1)).then(function(args) {
			return when.map(tasks, function(task) {
				return task.apply(void 0, args);
			});
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.pipeline" id="apidoc.element.when.pipeline">
        function <span class="apidocSignatureSpan">when.</span>pipeline
        <span class="apidocSignatureSpan">(tasks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pipeline(tasks) {
		// Self-optimizing function to run first task with multiple
		// args using apply, but subsequence tasks via direct invocation
		var runTask = function(args, task) {
			runTask = function(arg, task) {
				return task(arg);
			};

			return task.apply(null, args);
		};

		return all(slice.call(arguments, 1)).then(function(args) {
			return when.reduce(tasks, function(arg, task) {
				return runTask(arg, task);
			}, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.poll" id="apidoc.element.when.poll">
        function <span class="apidocSignatureSpan">when.</span>poll
        <span class="apidocSignatureSpan">(task, interval, verifier, delayInitialTask)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function poll(task, interval, verifier, delayInitialTask) {
		var deferred, canceled, reject;

		canceled = false;
		deferred = cancelable(when.defer(), function () { canceled = true; });
		reject = deferred.reject;

		verifier = verifier || function () { return false; };

		if (typeof interval !== &#x27;function&#x27;) {
			interval = (function (interval) {
				return function () { return when().delay(interval); };
			})(interval);
		}

		function certify(result) {
			deferred.resolve(result);
		}

		function schedule(result) {
			attempt(interval).then(vote, reject);
			if (result !== void 0) {
				deferred.notify(result);
			}
		}

		function vote() {
			if (canceled) { return; }
			when(task(),
				function (result) {
					when(verifier(result),
						function (verification) {
							return verification ? certify(result) : schedule(result);
						},
						function () { schedule(result); }
					);
				},
				reject
			);
		}

		if (delayInitialTask) {
			schedule();
		} else {
			// if task() is blocking, vote will also block
			vote();
		}

		// make the promise cancelable
		deferred.promise = Object.create(deferred.promise);
		deferred.promise.cancel = deferred.cancel;

		return deferred.promise;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.promise" id="apidoc.element.when.promise">
        function <span class="apidocSignatureSpan">when.</span>promise
        <span class="apidocSignatureSpan">(resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function promise(resolver) {
		return new Promise(resolver);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *  section has been exited.
	 */
	function n(allowed) {
		var count = 0;
		var waiting = [];

		return function enter() {
			return when.<span class="apidocCodeKeywordSpan">promise</span>(function(resolve) {
				if(count &#x3c; allowed) {
					resolve(exit);
				} else {
					waiting.push(resolve);
				}
				count += 1;
			});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.race" id="apidoc.element.when.race">
        function <span class="apidocSignatureSpan">when.</span>race
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">race = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.reduce" id="apidoc.element.when.reduce">
        function <span class="apidocSignatureSpan">when.</span>reduce
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.<span class="apidocCodeKeywordSpan">reduce</span>(when.map(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.reduceRight" id="apidoc.element.when.reduceRight">
        function <span class="apidocSignatureSpan">when.</span>reduceRight
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduceRight = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.filter() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.<span class="apidocCodeKeywordSpan">reduceRight</span>() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple

	// Error types
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.reject" id="apidoc.element.when.reject">
        function <span class="apidocSignatureSpan">when.</span>reject
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reject(x) {
			return new Promise(Handler, new Async(new Rejected(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		return new Deferred();
	}

	function Deferred() {
		var p = Promise._defer();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.<span class="apidocCodeKeywordSpan">reject</span>(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
		this.reject = reject;
		this.notify = notify;
		this.resolver = { resolve: resolve, reject: reject, notify: notify };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.resolve" id="apidoc.element.when.resolve">
        function <span class="apidocSignatureSpan">when.</span>resolve
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolve(x) {
			return isPromise(x) ? x
				: new Promise(Handler, new Async(getHandler(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {function?} onProgress callback to be called when progress updates
	 *   are issued for x. @deprecated
	 * @returns {Promise} a new promise that will fulfill with the return
	 *   value of callback or errback or the completion value of promiseOrValue if
	 *   callback and/or errback is not supplied.
	 */
	function when(x, onFulfilled, onRejected, onProgress) {
		var p = Promise.<span class="apidocCodeKeywordSpan">resolve</span>(x);
		if (arguments.length &#x3c; 2) {
			return p;
		}

		return p.then(onFulfilled, onRejected, onProgress);
	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.sequence" id="apidoc.element.when.sequence">
        function <span class="apidocSignatureSpan">when.</span>sequence
        <span class="apidocSignatureSpan">(tasks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sequence(tasks) {
		var results = [];

		return all(slice.call(arguments, 1)).then(function(args) {
			return when.reduce(tasks, function(results, task) {
				return when(task.apply(void 0, args), addResult);
			}, results);
		});

		function addResult(result) {
			results.push(result);
			return results;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.settle" id="apidoc.element.when.settle">
        function <span class="apidocSignatureSpan">when.</span>settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(promises) {
		return when(promises, Promise.settle);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			return toPromise(results);
		}

		var p = Promise._defer();
		var resolver = Promise._handler(p);
		var promises = keys.map(function(k) { return object[k]; });

		when.<span class="apidocCodeKeywordSpan">settle</span>(promises).then(function(states) {
			populateResults(keys, states, results, resolver);
		});

		return p;
	}

	function populateResults(keys, states, results, resolver) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.some" id="apidoc.element.when.some">
        function <span class="apidocSignatureSpan">when.</span>some
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">some = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.timeout" id="apidoc.element.when.timeout">
        function <span class="apidocSignatureSpan">when.</span>timeout
        <span class="apidocSignatureSpan">(msec, trigger)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function timeout(msec, trigger) {
		return when(trigger).timeout(msec);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(trigger).<span class="apidocCodeKeywordSpan">timeout</span>(ms)
     */
    return function timeout(msec, trigger) {
		return when(trigger).timeout(msec);
    };
});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.toString" id="apidoc.element.when.toString">
        function <span class="apidocSignatureSpan">when.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.try" id="apidoc.element.when.try">
        function <span class="apidocSignatureSpan">when.</span>try
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function attempt(f) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true */
</span>		for(var i=0, l=arguments.length-1, a=new Array(l); i&#x3c;l; ++i) {
			a[i] = arguments[i+1];
		}
		return apply(f, this, a);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.unfold" id="apidoc.element.when.unfold">
        function <span class="apidocSignatureSpan">when.</span>unfold
        <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unfold(unspool, condition, handler, x) {
			return resolve(x).then(function(seed) {
				return resolve(condition(seed)).then(function(done) {
					return done ? seed : resolve(unspool(seed)).spread(next);
				});
			});

			function next(item, newSeed) {
				return resolve(handler(item)).then(function() {
					return unfold(unspool, condition, handler, newSeed);
				});
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.ConsoleReporter" id="apidoc.module.when.ConsoleReporter">module when.ConsoleReporter</a></h1>


    <h2>
        <a href="#apidoc.element.when.ConsoleReporter.ConsoleReporter" id="apidoc.element.when.ConsoleReporter.ConsoleReporter">
        function <span class="apidocSignatureSpan">when.</span>ConsoleReporter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConsoleReporter() {
		this._previouslyReported = false;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.ConsoleReporter.prototype" id="apidoc.module.when.ConsoleReporter.prototype">module when.ConsoleReporter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.when.ConsoleReporter.prototype._log" id="apidoc.element.when.ConsoleReporter.prototype._log">
        function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>_log
        <span class="apidocSignatureSpan">(traces)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_log = function (traces) {
		for(var i=0; i&#x3c;traces.length; ++i) {
			this.warn(error.format(traces[i]));
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			}
			return;
		}

		this._previouslyReported = true;
		this.groupStart(unhandledRejectionsMsg + traces.length);
		try {
			this.<span class="apidocCodeKeywordSpan">_log</span>(traces);
		} finally {
			this.groupEnd();
		}
	};

	ConsoleReporter.prototype._log = function(traces) {
		for(var i=0; i&#x3c;traces.length; ++i) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.ConsoleReporter.prototype.groupEnd" id="apidoc.element.when.ConsoleReporter.prototype.groupEnd">
        function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>groupEnd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function consoleNotAvailable() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		}

		this._previouslyReported = true;
		this.groupStart(unhandledRejectionsMsg + traces.length);
		try {
			this._log(traces);
		} finally {
			this.<span class="apidocCodeKeywordSpan">groupEnd</span>();
		}
	};

	ConsoleReporter.prototype._log = function(traces) {
		for(var i=0; i&#x3c;traces.length; ++i) {
			this.warn(error.format(traces[i]));
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.ConsoleReporter.prototype.groupStart" id="apidoc.element.when.ConsoleReporter.prototype.groupStart">
        function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>groupStart
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">groupStart = function (s) {
					localConsole.error(s);
				}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				this._previouslyReported = false;
				this.msg(allHandledMsg);
			}
			return;
		}

		this._previouslyReported = true;
		this.<span class="apidocCodeKeywordSpan">groupStart</span>(unhandledRejectionsMsg + traces.length);
		try {
			this._log(traces);
		} finally {
			this.groupEnd();
		}
	};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.ConsoleReporter.prototype.log" id="apidoc.element.when.ConsoleReporter.prototype.log">
        function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>log
        <span class="apidocSignatureSpan">(traces)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (traces) {
		if(traces.length === 0) {
			if(this._previouslyReported) {
				this._previouslyReported = false;
				this.msg(allHandledMsg);
			}
			return;
		}

		this._previouslyReported = true;
		this.groupStart(unhandledRejectionsMsg + traces.length);
		try {
			this._log(traces);
		} finally {
			this.groupEnd();
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
var rest = require(&#x27;rest&#x27;);

fetchRemoteGreeting()
    .then(addExclamation)
    .catch(handleError)
    .done(function(greeting) {
        console.<span class="apidocCodeKeywordSpan">log</span>(greeting);
    });

function fetchRemoteGreeting() {
    // returns a when.js promise for &#x27;hello world&#x27;
    return rest(&#x27;http://example.com/greeting&#x27;);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.ConsoleReporter.prototype.msg" id="apidoc.element.when.ConsoleReporter.prototype.msg">
        function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>msg
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">msg = function (s) {
					localConsole.log(s);
				}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	ConsoleReporter.prototype = initDefaultLogging();

	ConsoleReporter.prototype.log = function(traces) {
		if(traces.length === 0) {
			if(this._previouslyReported) {
				this._previouslyReported = false;
				this.<span class="apidocCodeKeywordSpan">msg</span>(allHandledMsg);
			}
			return;
		}

		this._previouslyReported = true;
		this.groupStart(unhandledRejectionsMsg + traces.length);
		try {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.ConsoleReporter.prototype.warn" id="apidoc.element.when.ConsoleReporter.prototype.warn">
        function <span class="apidocSignatureSpan">when.ConsoleReporter.prototype.</span>warn
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (s) {
					localConsole.error(s);
				}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		} finally {
			this.groupEnd();
		}
	};

	ConsoleReporter.prototype._log = function(traces) {
		for(var i=0; i&#x3c;traces.length; ++i) {
			this.<span class="apidocCodeKeywordSpan">warn</span>(error.format(traces[i]));
		}
	};

	function initDefaultLogging() {
		/*jshint maxcomplexity:7*/
		var log, warn, groupStart, groupEnd;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise" id="apidoc.module.when.Promise">module when.Promise</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.Promise" id="apidoc.element.when.Promise.Promise">
        function <span class="apidocSignatureSpan">when.</span>Promise
        <span class="apidocSignatureSpan">(resolver, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(resolver, handler) {
			this._handler = resolver === Handler ? handler : init(resolver);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._defer" id="apidoc.element.when.Promise._defer">
        function <span class="apidocSignatureSpan">when.Promise.</span>_defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defer() {
			return new Promise(Handler, new Pending());
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @return {{promise: Promise, resolve: function, reject: function, notify: function}}
	 */
	function defer() {
		return new Deferred();
	}

	function Deferred() {
		var p = Promise.<span class="apidocCodeKeywordSpan">_defer</span>();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.reject(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._handler" id="apidoc.element.when.Promise._handler">
        function <span class="apidocSignatureSpan">when.Promise.</span>_handler
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getHandler(x) {
			if(isPromise(x)) {
				return x._handler.join();
			}
			return maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	}

	function handle(result, iterator) {
		if(result.done) {
			return result.value;
		}

		var h = Promise.<span class="apidocCodeKeywordSpan">_handler</span>(result.value);
		if(h.state() &#x3e; 0) {
			return runNext(h.value, iterator);
		}

		var p = Promise._defer();
		h.chain(p._handler, iterator, next, error);
		return p;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._traverse" id="apidoc.element.when.Promise._traverse">
        function <span class="apidocSignatureSpan">when.Promise.</span>_traverse
        <span class="apidocSignatureSpan">(f, promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function traverse(f, promises) {
			return traverseWith(tryCatch2, f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._visitRemaining" id="apidoc.element.when.Promise._visitRemaining">
        function <span class="apidocSignatureSpan">when.Promise.</span>_visitRemaining
        <span class="apidocSignatureSpan">(promises, start, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function visitRemaining(promises, start, handler) {
			for(var i=start; i&#x3c;promises.length; ++i) {
				markAsHandled(getHandler(promises[i]), handler);
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.all" id="apidoc.element.when.Promise.all">
        function <span class="apidocSignatureSpan">when.Promise.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function all(promises) {
			return traverseWith(snd, null, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Return a promise that will resolve only once all the supplied arguments
	 * have resolved. The resolution value of the returned promise will be an array
	 * containing the resolution values of each of the arguments.
	 * @param {...*} arguments may be a mix of promises and values
	 * @returns {Promise}
	 */
	function join(/* ...promises */) {
		return Promise.<span class="apidocCodeKeywordSpan">all</span>(arguments);
	}

	/**
	 * Return a promise that will fulfill once all input promises have
	 * fulfilled, or reject when any one input promise rejects.
	 * @param {array|Promise} promises array (or promise for an array) of promises
	 * @returns {Promise}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.any" id="apidoc.element.when.Promise.any">
        function <span class="apidocSignatureSpan">when.Promise.</span>any
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function any(promises) {
			var p = Promise._defer();
			var resolver = p._handler;
			var l = promises.length&#x3e;&#x3e;&#x3e;0;

			var pending = l;
			var errors = [];

			for (var h, x, i = 0; i &#x3c; l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					--pending;
					continue;
				}

				h = Promise._handler(x);
				if(h.state() &#x3e; 0) {
					resolver.become(h);
					Promise._visitRemaining(promises, i, h);
					break;
				} else {
					h.visit(resolver, handleFulfill, handleReject);
				}
			}

			if(pending === 0) {
				resolver.reject(new RangeError(&#x27;any(): array must not be empty&#x27;));
			}

			return p;

			function handleFulfill(x) {
				<span class="apidocCodeCommentSpan">/*jshint validthis:true*/
</span>				errors = null;
				this.resolve(x); // this === resolver
			}

			function handleReject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--pending === 0) {
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.createContext" id="apidoc.element.when.Promise.createContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>createContext
        <span class="apidocSignatureSpan">(p, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createContext = function (p, context) {
			p.context = self.createContext(p, context);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var failIfRejected = new FailIfRejected();

		/**
		 * Handler that manages a queue of consumers waiting on a pending promise
		 * @constructor
		 */
		function Pending(receiver, inheritedContext) {
			Promise.<span class="apidocCodeKeywordSpan">createContext</span>(this, inheritedContext);

			this.consumers = void 0;
			this.receiver = receiver;
			this.handler = void 0;
			this.resolved = false;
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.enterContext" id="apidoc.element.when.Promise.enterContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>enterContext
        <span class="apidocSignatureSpan">(p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enterContext = function (p) {
			executionContext.push(p.context);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		}

		function runContinuation1(f, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
			}

			Promise.<span class="apidocCodeKeywordSpan">enterContext</span>(h);
			tryCatchReject(f, h.value, receiver, next);
			Promise.exitContext();
		}

		function runContinuation3(f, x, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.exitContext" id="apidoc.element.when.Promise.exitContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>exitContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exitContext = function () {
			executionContext.pop();
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		function runContinuation1(f, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
			}

			Promise.enterContext(h);
			tryCatchReject(f, h.value, receiver, next);
			Promise.<span class="apidocCodeKeywordSpan">exitContext</span>();
		}

		function runContinuation3(f, x, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
			}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.filter" id="apidoc.element.when.Promise.filter">
        function <span class="apidocSignatureSpan">when.Promise.</span>filter
        <span class="apidocSignatureSpan">(promises, predicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter(promises, predicate) {
			var a = slice.call(promises);
			return Promise._traverse(predicate, a).then(function(keep) {
				return filterSync(a, keep);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.settle      = settle;               // Settle a list of promises

	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.<span class="apidocCodeKeywordSpan">filter</span>() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.iterate" id="apidoc.element.when.Promise.iterate">
        function <span class="apidocSignatureSpan">when.Promise.</span>iterate
        <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function iterate(f, condition, handler, x) {
			return unfold(function(x) {
				return [x, f(x)];
			}, condition, handler, x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.map" id="apidoc.element.when.Promise.map">
        function <span class="apidocSignatureSpan">when.Promise.</span>map
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(promises, f) {
			return Promise._traverse(f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.reduce(when.<span class="apidocCodeKeywordSpan">map</span>(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.never" id="apidoc.element.when.Promise.never">
        function <span class="apidocSignatureSpan">when.Promise.</span>never
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function never() {
			return foreverPendingPromise; // Should be frozen
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		/**
		 * Fulfill-reject competitive race. Return a promise that will settle
		 * to the same state as the earliest input promise to settle.
		 *
		 * WARNING: The ES6 Promise spec requires that race()ing an empty array
		 * must return a promise that is pending forever.  This implementation
		 * returns a singleton forever-pending promise, the same singleton that is
		 * returned by Promise.<span class="apidocCodeKeywordSpan">never</span>(), thus can be checked with ===
		 *
		 * @param {array} promises array of promises to race
		 * @returns {Promise} if input is non-empty, a promise that will settle
		 * to the same outcome as the earliest input promise to settle. if empty
		 * is empty, returns a promise that will never settle.
		 */
		function race(promises) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onFatalRejection" id="apidoc.element.when.Promise.onFatalRejection">
        function <span class="apidocSignatureSpan">when.Promise.</span>onFatalRejection
        <span class="apidocSignatureSpan">(rejection, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onFatalRejection = function (rejection, extraContext) {
			return self.fatal(rejection, extraContext);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			this.handled = true;
			tasks.afterQueue(new UnreportTask(this));
		};

		Rejected.prototype.fail = function(context) {
			this.reported = true;
			emitRejection(&#x27;unhandledRejection&#x27;, this);
			Promise.<span class="apidocCodeKeywordSpan">onFatalRejection</span>(this, context === void 0 ? this.context : context);
		};

		function ReportTask(rejection, context) {
			this.rejection = rejection;
			this.context = context;
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejection">
        function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejection
        <span class="apidocSignatureSpan">(rejection, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPotentiallyUnhandledRejection = function (rejection, extraContext) {
			return self.addTrace(rejection, extraContext);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			this.context = context;
		}

		ReportTask.prototype.run = function() {
			if(!this.rejection.handled &#x26;&#x26; !this.rejection.reported) {
				this.rejection.reported = true;
				emitRejection(&#x27;unhandledRejection&#x27;, this.rejection) ||
					Promise.<span class="apidocCodeKeywordSpan">onPotentiallyUnhandledRejection</span>(this.rejection, this.context);
			}
		};

		function UnreportTask(rejection) {
			this.rejection = rejection;
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled">
        function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejectionHandled
        <span class="apidocSignatureSpan">(rejection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPotentiallyUnhandledRejectionHandled = function (rejection) {
			return self.removeTrace(rejection);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		function UnreportTask(rejection) {
			this.rejection = rejection;
		}

		UnreportTask.prototype.run = function() {
			if(this.rejection.reported) {
				emitRejection(&#x27;rejectionHandled&#x27;, this.rejection) ||
					Promise.<span class="apidocCodeKeywordSpan">onPotentiallyUnhandledRejectionHandled</span>(this.rejection);
			}
		};

		// Unhandled rejection hooks
		// By default, everything is a noop

		Promise.createContext
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.race" id="apidoc.element.when.Promise.race">
        function <span class="apidocSignatureSpan">when.Promise.</span>race
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function race(promises) {
			if(typeof promises !== &#x27;object&#x27; || promises === null) {
				return reject(new TypeError(&#x27;non-iterable passed to race()&#x27;));
			}

			// Sigh, race([]) is untestable unless we return *something*
			// that is recognizable without calling .then() on it.
			return promises.length === 0 ? never()
				 : promises.length === 1 ? resolve(promises[0])
				 : runRace(promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reduce" id="apidoc.element.when.Promise.reduce">
        function <span class="apidocSignatureSpan">when.Promise.</span>reduce
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduce(promises, f) {
			return arguments.length &#x3e; 2 ? ar.call(promises, liftCombine(f), arguments[2])
					: ar.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.<span class="apidocCodeKeywordSpan">reduce</span>(when.map(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reduceRight" id="apidoc.element.when.Promise.reduceRight">
        function <span class="apidocSignatureSpan">when.Promise.</span>reduceRight
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduceRight(promises, f) {
			return arguments.length &#x3e; 2 ? arr.call(promises, liftCombine(f), arguments[2])
					: arr.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.filter() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.<span class="apidocCodeKeywordSpan">reduceRight</span>() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple

	// Error types
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reject" id="apidoc.element.when.Promise.reject">
        function <span class="apidocSignatureSpan">when.Promise.</span>reject
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reject(x) {
			return new Promise(Handler, new Async(new Rejected(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		return new Deferred();
	}

	function Deferred() {
		var p = Promise._defer();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.<span class="apidocCodeKeywordSpan">reject</span>(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
		this.reject = reject;
		this.notify = notify;
		this.resolver = { resolve: resolve, reject: reject, notify: notify };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.resolve" id="apidoc.element.when.Promise.resolve">
        function <span class="apidocSignatureSpan">when.Promise.</span>resolve
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolve(x) {
			return isPromise(x) ? x
				: new Promise(Handler, new Async(getHandler(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {function?} onProgress callback to be called when progress updates
	 *   are issued for x. @deprecated
	 * @returns {Promise} a new promise that will fulfill with the return
	 *   value of callback or errback or the completion value of promiseOrValue if
	 *   callback and/or errback is not supplied.
	 */
	function when(x, onFulfilled, onRejected, onProgress) {
		var p = Promise.<span class="apidocCodeKeywordSpan">resolve</span>(x);
		if (arguments.length &#x3c; 2) {
			return p;
		}

		return p.then(onFulfilled, onRejected, onProgress);
	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.settle" id="apidoc.element.when.Promise.settle">
        function <span class="apidocSignatureSpan">when.Promise.</span>settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(promises) {
			return all(promises.map(settleOne));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			return toPromise(results);
		}

		var p = Promise._defer();
		var resolver = Promise._handler(p);
		var promises = keys.map(function(k) { return object[k]; });

		when.<span class="apidocCodeKeywordSpan">settle</span>(promises).then(function(states) {
			populateResults(keys, states, results, resolver);
		});

		return p;
	}

	function populateResults(keys, states, results, resolver) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.some" id="apidoc.element.when.Promise.some">
        function <span class="apidocSignatureSpan">when.Promise.</span>some
        <span class="apidocSignatureSpan">(promises, n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function some(promises, n) {
			<span class="apidocCodeCommentSpan">/*jshint maxcomplexity:7*/
</span>			var p = Promise._defer();
			var resolver = p._handler;

			var results = [];
			var errors = [];

			var l = promises.length&#x3e;&#x3e;&#x3e;0;
			var nFulfill = 0;
			var nReject;
			var x, i; // reused in both for() loops

			// First pass: count actual array items
			for(i=0; i&#x3c;l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					continue;
				}
				++nFulfill;
			}

			// Compute actual goals
			n = Math.max(n, 0);
			nReject = (nFulfill - n + 1);
			nFulfill = Math.min(n, nFulfill);

			if(n &#x3e; nFulfill) {
				resolver.reject(new RangeError(&#x27;some(): array must contain at least &#x27;
				+ n + &#x27; item(s), but had &#x27; + nFulfill));
			} else if(nFulfill === 0) {
				resolver.resolve(results);
			}

			// Second pass: observe each array item, make progress toward goals
			for(i=0; i&#x3c;l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					continue;
				}

				Promise._handler(x).visit(resolver, fulfill, reject, resolver.notify);
			}

			return p;

			function fulfill(x) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				results.push(x);
				if(--nFulfill === 0) {
					errors = null;
					this.resolve(results);
				}
			}

			function reject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--nReject === 0) {
					results = null;
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.unfold" id="apidoc.element.when.Promise.unfold">
        function <span class="apidocSignatureSpan">when.Promise.</span>unfold
        <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unfold(unspool, condition, handler, x) {
			return resolve(x).then(function(seed) {
				return resolve(condition(seed)).then(function(done) {
					return done ? seed : resolve(unspool(seed)).spread(next);
				});
			});

			function next(item, newSeed) {
				return resolve(handler(item)).then(function() {
					return unfold(unspool, condition, handler, newSeed);
				});
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise._defer" id="apidoc.module.when.Promise._defer">module when.Promise._defer</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise._defer._defer" id="apidoc.element.when.Promise._defer._defer">
        function <span class="apidocSignatureSpan">when.Promise.</span>_defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defer() {
			return new Promise(Handler, new Pending());
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @return {{promise: Promise, resolve: function, reject: function, notify: function}}
	 */
	function defer() {
		return new Deferred();
	}

	function Deferred() {
		var p = Promise.<span class="apidocCodeKeywordSpan">_defer</span>();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.reject(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise._handler" id="apidoc.module.when.Promise._handler">module when.Promise._handler</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise._handler._handler" id="apidoc.element.when.Promise._handler._handler">
        function <span class="apidocSignatureSpan">when.Promise.</span>_handler
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getHandler(x) {
			if(isPromise(x)) {
				return x._handler.join();
			}
			return maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	}

	function handle(result, iterator) {
		if(result.done) {
			return result.value;
		}

		var h = Promise.<span class="apidocCodeKeywordSpan">_handler</span>(result.value);
		if(h.state() &#x3e; 0) {
			return runNext(h.value, iterator);
		}

		var p = Promise._defer();
		h.chain(p._handler, iterator, next, error);
		return p;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise._traverse" id="apidoc.module.when.Promise._traverse">module when.Promise._traverse</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise._traverse._traverse" id="apidoc.element.when.Promise._traverse._traverse">
        function <span class="apidocSignatureSpan">when.Promise.</span>_traverse
        <span class="apidocSignatureSpan">(f, promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function traverse(f, promises) {
			return traverseWith(tryCatch2, f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise._visitRemaining" id="apidoc.module.when.Promise._visitRemaining">module when.Promise._visitRemaining</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise._visitRemaining._visitRemaining" id="apidoc.element.when.Promise._visitRemaining._visitRemaining">
        function <span class="apidocSignatureSpan">when.Promise.</span>_visitRemaining
        <span class="apidocSignatureSpan">(promises, start, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function visitRemaining(promises, start, handler) {
			for(var i=start; i&#x3c;promises.length; ++i) {
				markAsHandled(getHandler(promises[i]), handler);
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.all" id="apidoc.module.when.Promise.all">module when.Promise.all</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.all.all" id="apidoc.element.when.Promise.all.all">
        function <span class="apidocSignatureSpan">when.Promise.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function all(promises) {
			return traverseWith(snd, null, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Return a promise that will resolve only once all the supplied arguments
	 * have resolved. The resolution value of the returned promise will be an array
	 * containing the resolution values of each of the arguments.
	 * @param {...*} arguments may be a mix of promises and values
	 * @returns {Promise}
	 */
	function join(/* ...promises */) {
		return Promise.<span class="apidocCodeKeywordSpan">all</span>(arguments);
	}

	/**
	 * Return a promise that will fulfill once all input promises have
	 * fulfilled, or reject when any one input promise rejects.
	 * @param {array|Promise} promises array (or promise for an array) of promises
	 * @returns {Promise}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.any" id="apidoc.module.when.Promise.any">module when.Promise.any</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.any.any" id="apidoc.element.when.Promise.any.any">
        function <span class="apidocSignatureSpan">when.Promise.</span>any
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function any(promises) {
			var p = Promise._defer();
			var resolver = p._handler;
			var l = promises.length&#x3e;&#x3e;&#x3e;0;

			var pending = l;
			var errors = [];

			for (var h, x, i = 0; i &#x3c; l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					--pending;
					continue;
				}

				h = Promise._handler(x);
				if(h.state() &#x3e; 0) {
					resolver.become(h);
					Promise._visitRemaining(promises, i, h);
					break;
				} else {
					h.visit(resolver, handleFulfill, handleReject);
				}
			}

			if(pending === 0) {
				resolver.reject(new RangeError(&#x27;any(): array must not be empty&#x27;));
			}

			return p;

			function handleFulfill(x) {
				<span class="apidocCodeCommentSpan">/*jshint validthis:true*/
</span>				errors = null;
				this.resolve(x); // this === resolver
			}

			function handleReject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--pending === 0) {
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.createContext" id="apidoc.module.when.Promise.createContext">module when.Promise.createContext</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.createContext.createContext" id="apidoc.element.when.Promise.createContext.createContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>createContext
        <span class="apidocSignatureSpan">(p, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createContext = function (p, context) {
			p.context = self.createContext(p, context);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var failIfRejected = new FailIfRejected();

		/**
		 * Handler that manages a queue of consumers waiting on a pending promise
		 * @constructor
		 */
		function Pending(receiver, inheritedContext) {
			Promise.<span class="apidocCodeKeywordSpan">createContext</span>(this, inheritedContext);

			this.consumers = void 0;
			this.receiver = receiver;
			this.handler = void 0;
			this.resolved = false;
		}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.enterContext" id="apidoc.module.when.Promise.enterContext">module when.Promise.enterContext</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.enterContext.enterContext" id="apidoc.element.when.Promise.enterContext.enterContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>enterContext
        <span class="apidocSignatureSpan">(p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enterContext = function (p) {
			executionContext.push(p.context);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		}

		function runContinuation1(f, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
			}

			Promise.<span class="apidocCodeKeywordSpan">enterContext</span>(h);
			tryCatchReject(f, h.value, receiver, next);
			Promise.exitContext();
		}

		function runContinuation3(f, x, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.exitContext" id="apidoc.module.when.Promise.exitContext">module when.Promise.exitContext</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.exitContext.exitContext" id="apidoc.element.when.Promise.exitContext.exitContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>exitContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exitContext = function () {
			executionContext.pop();
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		function runContinuation1(f, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
			}

			Promise.enterContext(h);
			tryCatchReject(f, h.value, receiver, next);
			Promise.<span class="apidocCodeKeywordSpan">exitContext</span>();
		}

		function runContinuation3(f, x, h, receiver, next) {
			if(typeof f !== &#x27;function&#x27;) {
				return next.become(h);
			}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.filter" id="apidoc.module.when.Promise.filter">module when.Promise.filter</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.filter.filter" id="apidoc.element.when.Promise.filter.filter">
        function <span class="apidocSignatureSpan">when.Promise.</span>filter
        <span class="apidocSignatureSpan">(promises, predicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter(promises, predicate) {
			var a = slice.call(promises);
			return Promise._traverse(predicate, a).then(function(keep) {
				return filterSync(a, keep);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.settle      = settle;               // Settle a list of promises

	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.<span class="apidocCodeKeywordSpan">filter</span>() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.map" id="apidoc.module.when.Promise.map">module when.Promise.map</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.map.map" id="apidoc.element.when.Promise.map.map">
        function <span class="apidocSignatureSpan">when.Promise.</span>map
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(promises, f) {
			return Promise._traverse(f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.reduce(when.<span class="apidocCodeKeywordSpan">map</span>(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.never" id="apidoc.module.when.Promise.never">module when.Promise.never</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.never.never" id="apidoc.element.when.Promise.never.never">
        function <span class="apidocSignatureSpan">when.Promise.</span>never
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function never() {
			return foreverPendingPromise; // Should be frozen
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		/**
		 * Fulfill-reject competitive race. Return a promise that will settle
		 * to the same state as the earliest input promise to settle.
		 *
		 * WARNING: The ES6 Promise spec requires that race()ing an empty array
		 * must return a promise that is pending forever.  This implementation
		 * returns a singleton forever-pending promise, the same singleton that is
		 * returned by Promise.<span class="apidocCodeKeywordSpan">never</span>(), thus can be checked with ===
		 *
		 * @param {array} promises array of promises to race
		 * @returns {Promise} if input is non-empty, a promise that will settle
		 * to the same outcome as the earliest input promise to settle. if empty
		 * is empty, returns a promise that will never settle.
		 */
		function race(promises) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.onFatalRejection" id="apidoc.module.when.Promise.onFatalRejection">module when.Promise.onFatalRejection</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.onFatalRejection.onFatalRejection" id="apidoc.element.when.Promise.onFatalRejection.onFatalRejection">
        function <span class="apidocSignatureSpan">when.Promise.</span>onFatalRejection
        <span class="apidocSignatureSpan">(rejection, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onFatalRejection = function (rejection, extraContext) {
			return self.fatal(rejection, extraContext);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			this.handled = true;
			tasks.afterQueue(new UnreportTask(this));
		};

		Rejected.prototype.fail = function(context) {
			this.reported = true;
			emitRejection(&#x27;unhandledRejection&#x27;, this);
			Promise.<span class="apidocCodeKeywordSpan">onFatalRejection</span>(this, context === void 0 ? this.context : context);
		};

		function ReportTask(rejection, context) {
			this.rejection = rejection;
			this.context = context;
		}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.onPotentiallyUnhandledRejection" id="apidoc.module.when.Promise.onPotentiallyUnhandledRejection">module when.Promise.onPotentiallyUnhandledRejection</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection.onPotentiallyUnhandledRejection" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejection.onPotentiallyUnhandledRejection">
        function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejection
        <span class="apidocSignatureSpan">(rejection, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPotentiallyUnhandledRejection = function (rejection, extraContext) {
			return self.addTrace(rejection, extraContext);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			this.context = context;
		}

		ReportTask.prototype.run = function() {
			if(!this.rejection.handled &#x26;&#x26; !this.rejection.reported) {
				this.rejection.reported = true;
				emitRejection(&#x27;unhandledRejection&#x27;, this.rejection) ||
					Promise.<span class="apidocCodeKeywordSpan">onPotentiallyUnhandledRejection</span>(this.rejection, this.context);
			}
		};

		function UnreportTask(rejection) {
			this.rejection = rejection;
		}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.onPotentiallyUnhandledRejectionHandled" id="apidoc.module.when.Promise.onPotentiallyUnhandledRejectionHandled">module when.Promise.onPotentiallyUnhandledRejectionHandled</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled.onPotentiallyUnhandledRejectionHandled" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled.onPotentiallyUnhandledRejectionHandled">
        function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejectionHandled
        <span class="apidocSignatureSpan">(rejection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPotentiallyUnhandledRejectionHandled = function (rejection) {
			return self.removeTrace(rejection);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		function UnreportTask(rejection) {
			this.rejection = rejection;
		}

		UnreportTask.prototype.run = function() {
			if(this.rejection.reported) {
				emitRejection(&#x27;rejectionHandled&#x27;, this.rejection) ||
					Promise.<span class="apidocCodeKeywordSpan">onPotentiallyUnhandledRejectionHandled</span>(this.rejection);
			}
		};

		// Unhandled rejection hooks
		// By default, everything is a noop

		Promise.createContext
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype" id="apidoc.module.when.Promise.prototype">module when.Promise.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype._beget" id="apidoc.element.when.Promise.prototype._beget">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>_beget
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_beget = function () {
			return begetFrom(this._handler, this.constructor);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this.<span class="apidocCodeKeywordSpan">_beget</span>();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.catch" id="apidoc.element.when.Promise.prototype.catch">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>catch
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function (onRejected) {
			if (arguments.length &#x3c; 2) {
				return origCatch.call(this, onRejected);
			}

			if(typeof onRejected !== &#x27;function&#x27;) {
				return this.ensure(rejectInvalidPredicate);
			}

			return origCatch.call(this, createCatchFilter(arguments[1], onRejected));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
This first example will print `&#x22;hello world!!!!&#x22;` if all went well, or `&#x22;drat!&#x22;` if there was a problem. It
also uses [rest](https://github.com/cujojs/rest) to make an ajax request to a (fictional) external service.

```js
var rest = require(&#x27;rest&#x27;);

fetchRemoteGreeting()
.then(addExclamation)
.<span class="apidocCodeKeywordSpan">catch</span>(handleError)
.done(function(greeting) {
    console.log(greeting);
});

function fetchRemoteGreeting() {
// returns a when.js promise for &#x27;hello world&#x27;
return rest(&#x27;http://example.com/greeting&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.delay" id="apidoc.element.when.Promise.prototype.delay">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>delay
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function (ms) {
			var p = this._beget();
			this._handler.fold(handleDelay, ms, void 0, p._handler);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(value).<span class="apidocCodeKeywordSpan">delay</span>(ms)
     */
    return function delay(msec, value) {
		return when(value).delay(msec);
    };

});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.done" id="apidoc.element.when.Promise.prototype.done">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>done
        <span class="apidocSignatureSpan">(onResult, onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">done = function (onResult, onError) {
			this._handler.visit(this._handler.receiver, onResult, onError);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var rest = require(&#x27;rest&#x27;);

fetchRemoteGreeting()
    .then(addExclamation)
    .catch(handleError)
    .<span class="apidocCodeKeywordSpan">done</span>(function(greeting) {
        console.log(greeting);
    });

function fetchRemoteGreeting() {
    // returns a when.js promise for &#x27;hello world&#x27;
    return rest(&#x27;http://example.com/greeting&#x27;);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.else" id="apidoc.element.when.Promise.prototype.else">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>else
        <span class="apidocSignatureSpan">(defaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">else = function (defaultValue) {
			return this.then(void 0, function() {
				return defaultValue;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.ensure" id="apidoc.element.when.Promise.prototype.ensure">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>ensure
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensure = function (handler) {
			if(typeof handler !== &#x27;function&#x27;) {
				return this;
			}

			return this.then(function(x) {
				return runSideEffect(handler, this, identity, x);
			}, function(e) {
				return runSideEffect(handler, this, reject, e);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.finally" id="apidoc.element.when.Promise.prototype.finally">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>finally
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">finally = function (handler) {
			if(typeof handler !== &#x27;function&#x27;) {
				return this;
			}

			return this.then(function(x) {
				return runSideEffect(handler, this, identity, x);
			}, function(e) {
				return runSideEffect(handler, this, reject, e);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.fold" id="apidoc.element.when.Promise.prototype.fold">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>fold
        <span class="apidocSignatureSpan">(f, z)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fold = function (f, z) {
			var promise = this._beget();

			this._handler.fold(function(z, x, to) {
				Promise._handler(z).fold(function(x, z, to) {
					to.resolve(f.call(this, z, x));
				}, x, this, to);
			}, z, promise._handler.receiver, promise._handler);

			return promise;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		function traverseAt(promises, handler, i, x, resolver) {
			if (maybeThenable(x)) {
				var h = getHandlerMaybeThenable(x);
				var s = h.state();

				if (s === 0) {
					h.<span class="apidocCodeKeywordSpan">fold</span>(handler, i, void 0, resolver);
				} else if (s &#x3e; 0) {
					handler(i, h.value, resolver);
				} else {
					resolver.become(h);
					visitRemaining(promises, i+1, h);
				}
			} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.inspect" id="apidoc.element.when.Promise.prototype.inspect">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
			return inspect(Promise._handler(this));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.orElse" id="apidoc.element.when.Promise.prototype.orElse">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>orElse
        <span class="apidocSignatureSpan">(defaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">orElse = function (defaultValue) {
			return this.then(void 0, function() {
				return defaultValue;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.otherwise" id="apidoc.element.when.Promise.prototype.otherwise">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>otherwise
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">otherwise = function (onRejected) {
			if (arguments.length &#x3c; 2) {
				return origCatch.call(this, onRejected);
			}

			if(typeof onRejected !== &#x27;function&#x27;) {
				return this.ensure(rejectInvalidPredicate);
			}

			return origCatch.call(this, createCatchFilter(arguments[1], onRejected));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.progress" id="apidoc.element.when.Promise.prototype.progress">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>progress
        <span class="apidocSignatureSpan">(onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">progress = function (onProgress) {
			return this.then(void 0, void 0, onProgress);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.spread" id="apidoc.element.when.Promise.prototype.spread">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>spread
        <span class="apidocSignatureSpan">(onFulfilled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spread = function (onFulfilled) {
			return this.then(all).then(function(array) {
				return onFulfilled.apply(this, array);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.tap" id="apidoc.element.when.Promise.prototype.tap">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>tap
        <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tap = function (onFulfilledSideEffect) {
			return this.then(onFulfilledSideEffect)[&#x27;yield&#x27;](this);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.then" id="apidoc.element.when.Promise.prototype.then">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>then
        <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.join().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this._beget();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

This first example will print `&#x22;hello world!!!!&#x22;` if all went well, or `&#x22;drat!&#x22;` if there was a problem. It
also uses [rest](https://github.com/cujojs/rest) to make an ajax request to a (fictional) external service.

```js
var rest = require(&#x27;rest&#x27;);

fetchRemoteGreeting()
.<span class="apidocCodeKeywordSpan">then</span>(addExclamation)
.catch(handleError)
.done(function(greeting) {
    console.log(greeting);
});

function fetchRemoteGreeting() {
// returns a when.js promise for &#x27;hello world&#x27;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.timeout" id="apidoc.element.when.Promise.prototype.timeout">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (ms, reason) {
			var p = this._beget();
			var h = p._handler;

			var t = setTimeout(onTimeout, ms, reason, p._handler);

			this._handler.visit(h,
				function onFulfill(x) {
					env.clearTimer(t);
					this.resolve(x); // this = h
				},
				function onReject(x) {
					env.clearTimer(t);
					this.reject(x); // this = h
				},
				h.notify);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(trigger).<span class="apidocCodeKeywordSpan">timeout</span>(ms)
     */
    return function timeout(msec, trigger) {
		return when(trigger).timeout(msec);
    };
});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.with" id="apidoc.element.when.Promise.prototype.with">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>with
        <span class="apidocSignatureSpan">(receiver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">with = function (receiver) {
			var p = this._beget();
			var child = p._handler;
			child.receiver = receiver;
			this._handler.chain(child, receiver);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.withThis" id="apidoc.element.when.Promise.prototype.withThis">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>withThis
        <span class="apidocSignatureSpan">(receiver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withThis = function (receiver) {
			var p = this._beget();
			var child = p._handler;
			child.receiver = receiver;
			this._handler.chain(child, receiver);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {function} f function to guard
	 * @returns {function} guarded version of f
	 */
	function guard(condition, f) {
		return function() {
			var args = slice.call(arguments);

			return when(condition()).<span class="apidocCodeKeywordSpan">withThis</span>(this).then(function(exit) {
				return when(f.apply(this, args))[&#x27;finally&#x27;](exit);
			});
		};
	}

	/**
	 * Creates a condition that allows only n simultaneous executions
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.yield" id="apidoc.element.when.Promise.prototype.yield">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>yield
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yield = function (value) {
			return this.then(function() {
				return value;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype._beget" id="apidoc.module.when.Promise.prototype._beget">module when.Promise.prototype._beget</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype._beget._beget" id="apidoc.element.when.Promise.prototype._beget._beget">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>_beget
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_beget = function () {
			return begetFrom(this._handler, this.constructor);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this.<span class="apidocCodeKeywordSpan">_beget</span>();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.catch" id="apidoc.module.when.Promise.prototype.catch">module when.Promise.prototype.catch</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.catch.catch" id="apidoc.element.when.Promise.prototype.catch.catch">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>catch
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function (onRejected) {
			if (arguments.length &#x3c; 2) {
				return origCatch.call(this, onRejected);
			}

			if(typeof onRejected !== &#x27;function&#x27;) {
				return this.ensure(rejectInvalidPredicate);
			}

			return origCatch.call(this, createCatchFilter(arguments[1], onRejected));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
This first example will print `&#x22;hello world!!!!&#x22;` if all went well, or `&#x22;drat!&#x22;` if there was a problem. It
also uses [rest](https://github.com/cujojs/rest) to make an ajax request to a (fictional) external service.

```js
var rest = require(&#x27;rest&#x27;);

fetchRemoteGreeting()
.then(addExclamation)
.<span class="apidocCodeKeywordSpan">catch</span>(handleError)
.done(function(greeting) {
    console.log(greeting);
});

function fetchRemoteGreeting() {
// returns a when.js promise for &#x27;hello world&#x27;
return rest(&#x27;http://example.com/greeting&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.delay" id="apidoc.module.when.Promise.prototype.delay">module when.Promise.prototype.delay</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.delay.delay" id="apidoc.element.when.Promise.prototype.delay.delay">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>delay
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function (ms) {
			var p = this._beget();
			this._handler.fold(handleDelay, ms, void 0, p._handler);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(value).<span class="apidocCodeKeywordSpan">delay</span>(ms)
     */
    return function delay(msec, value) {
		return when(value).delay(msec);
    };

});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.done" id="apidoc.module.when.Promise.prototype.done">module when.Promise.prototype.done</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.done.done" id="apidoc.element.when.Promise.prototype.done.done">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>done
        <span class="apidocSignatureSpan">(onResult, onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">done = function (onResult, onError) {
			this._handler.visit(this._handler.receiver, onResult, onError);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var rest = require(&#x27;rest&#x27;);

fetchRemoteGreeting()
    .then(addExclamation)
    .catch(handleError)
    .<span class="apidocCodeKeywordSpan">done</span>(function(greeting) {
        console.log(greeting);
    });

function fetchRemoteGreeting() {
    // returns a when.js promise for &#x27;hello world&#x27;
    return rest(&#x27;http://example.com/greeting&#x27;);
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.ensure" id="apidoc.module.when.Promise.prototype.ensure">module when.Promise.prototype.ensure</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.ensure.ensure" id="apidoc.element.when.Promise.prototype.ensure.ensure">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>ensure
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensure = function (handler) {
			if(typeof handler !== &#x27;function&#x27;) {
				return this;
			}

			return this.then(function(x) {
				return runSideEffect(handler, this, identity, x);
			}, function(e) {
				return runSideEffect(handler, this, reject, e);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.fold" id="apidoc.module.when.Promise.prototype.fold">module when.Promise.prototype.fold</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.fold.fold" id="apidoc.element.when.Promise.prototype.fold.fold">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>fold
        <span class="apidocSignatureSpan">(f, z)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fold = function (f, z) {
			var promise = this._beget();

			this._handler.fold(function(z, x, to) {
				Promise._handler(z).fold(function(x, z, to) {
					to.resolve(f.call(this, z, x));
				}, x, this, to);
			}, z, promise._handler.receiver, promise._handler);

			return promise;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

		function traverseAt(promises, handler, i, x, resolver) {
			if (maybeThenable(x)) {
				var h = getHandlerMaybeThenable(x);
				var s = h.state();

				if (s === 0) {
					h.<span class="apidocCodeKeywordSpan">fold</span>(handler, i, void 0, resolver);
				} else if (s &#x3e; 0) {
					handler(i, h.value, resolver);
				} else {
					resolver.become(h);
					visitRemaining(promises, i+1, h);
				}
			} else {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.inspect" id="apidoc.module.when.Promise.prototype.inspect">module when.Promise.prototype.inspect</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.inspect.inspect" id="apidoc.element.when.Promise.prototype.inspect.inspect">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
			return inspect(Promise._handler(this));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.orElse" id="apidoc.module.when.Promise.prototype.orElse">module when.Promise.prototype.orElse</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.orElse.orElse" id="apidoc.element.when.Promise.prototype.orElse.orElse">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>orElse
        <span class="apidocSignatureSpan">(defaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">orElse = function (defaultValue) {
			return this.then(void 0, function() {
				return defaultValue;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.progress" id="apidoc.module.when.Promise.prototype.progress">module when.Promise.prototype.progress</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.progress.progress" id="apidoc.element.when.Promise.prototype.progress.progress">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>progress
        <span class="apidocSignatureSpan">(onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">progress = function (onProgress) {
			return this.then(void 0, void 0, onProgress);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.spread" id="apidoc.module.when.Promise.prototype.spread">module when.Promise.prototype.spread</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.spread.spread" id="apidoc.element.when.Promise.prototype.spread.spread">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>spread
        <span class="apidocSignatureSpan">(onFulfilled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spread = function (onFulfilled) {
			return this.then(all).then(function(array) {
				return onFulfilled.apply(this, array);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.tap" id="apidoc.module.when.Promise.prototype.tap">module when.Promise.prototype.tap</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.tap.tap" id="apidoc.element.when.Promise.prototype.tap.tap">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>tap
        <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tap = function (onFulfilledSideEffect) {
			return this.then(onFulfilledSideEffect)[&#x27;yield&#x27;](this);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.then" id="apidoc.module.when.Promise.prototype.then">module when.Promise.prototype.then</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.then.then" id="apidoc.element.when.Promise.prototype.then.then">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>then
        <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.join().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this._beget();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

This first example will print `&#x22;hello world!!!!&#x22;` if all went well, or `&#x22;drat!&#x22;` if there was a problem. It
also uses [rest](https://github.com/cujojs/rest) to make an ajax request to a (fictional) external service.

```js
var rest = require(&#x27;rest&#x27;);

fetchRemoteGreeting()
.<span class="apidocCodeKeywordSpan">then</span>(addExclamation)
.catch(handleError)
.done(function(greeting) {
    console.log(greeting);
});

function fetchRemoteGreeting() {
// returns a when.js promise for &#x27;hello world&#x27;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.timeout" id="apidoc.module.when.Promise.prototype.timeout">module when.Promise.prototype.timeout</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.timeout.timeout" id="apidoc.element.when.Promise.prototype.timeout.timeout">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (ms, reason) {
			var p = this._beget();
			var h = p._handler;

			var t = setTimeout(onTimeout, ms, reason, p._handler);

			this._handler.visit(h,
				function onFulfill(x) {
					env.clearTimer(t);
					this.resolve(x); // this = h
				},
				function onReject(x) {
					env.clearTimer(t);
					this.reject(x); // this = h
				},
				h.notify);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(trigger).<span class="apidocCodeKeywordSpan">timeout</span>(ms)
     */
    return function timeout(msec, trigger) {
		return when(trigger).timeout(msec);
    };
});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.withThis" id="apidoc.module.when.Promise.prototype.withThis">module when.Promise.prototype.withThis</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.withThis.withThis" id="apidoc.element.when.Promise.prototype.withThis.withThis">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>withThis
        <span class="apidocSignatureSpan">(receiver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withThis = function (receiver) {
			var p = this._beget();
			var child = p._handler;
			child.receiver = receiver;
			this._handler.chain(child, receiver);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {function} f function to guard
	 * @returns {function} guarded version of f
	 */
	function guard(condition, f) {
		return function() {
			var args = slice.call(arguments);

			return when(condition()).<span class="apidocCodeKeywordSpan">withThis</span>(this).then(function(exit) {
				return when(f.apply(this, args))[&#x27;finally&#x27;](exit);
			});
		};
	}

	/**
	 * Creates a condition that allows only n simultaneous executions
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype.yield" id="apidoc.module.when.Promise.prototype.yield">module when.Promise.prototype.yield</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype.yield.yield" id="apidoc.element.when.Promise.prototype.yield.yield">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>yield
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yield = function (value) {
			return this.then(function() {
				return value;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.race" id="apidoc.module.when.Promise.race">module when.Promise.race</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.race.race" id="apidoc.element.when.Promise.race.race">
        function <span class="apidocSignatureSpan">when.Promise.</span>race
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function race(promises) {
			if(typeof promises !== &#x27;object&#x27; || promises === null) {
				return reject(new TypeError(&#x27;non-iterable passed to race()&#x27;));
			}

			// Sigh, race([]) is untestable unless we return *something*
			// that is recognizable without calling .then() on it.
			return promises.length === 0 ? never()
				 : promises.length === 1 ? resolve(promises[0])
				 : runRace(promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.reduce" id="apidoc.module.when.Promise.reduce">module when.Promise.reduce</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.reduce.reduce" id="apidoc.element.when.Promise.reduce.reduce">
        function <span class="apidocSignatureSpan">when.Promise.</span>reduce
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduce(promises, f) {
			return arguments.length &#x3e; 2 ? ar.call(promises, liftCombine(f), arguments[2])
					: ar.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.<span class="apidocCodeKeywordSpan">reduce</span>(when.map(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.reduceRight" id="apidoc.module.when.Promise.reduceRight">module when.Promise.reduceRight</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.reduceRight.reduceRight" id="apidoc.element.when.Promise.reduceRight.reduceRight">
        function <span class="apidocSignatureSpan">when.Promise.</span>reduceRight
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduceRight(promises, f) {
			return arguments.length &#x3e; 2 ? arr.call(promises, liftCombine(f), arguments[2])
					: arr.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.filter() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.<span class="apidocCodeKeywordSpan">reduceRight</span>() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple

	// Error types
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.settle" id="apidoc.module.when.Promise.settle">module when.Promise.settle</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.settle.settle" id="apidoc.element.when.Promise.settle.settle">
        function <span class="apidocSignatureSpan">when.Promise.</span>settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(promises) {
			return all(promises.map(settleOne));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			return toPromise(results);
		}

		var p = Promise._defer();
		var resolver = Promise._handler(p);
		var promises = keys.map(function(k) { return object[k]; });

		when.<span class="apidocCodeKeywordSpan">settle</span>(promises).then(function(states) {
			populateResults(keys, states, results, resolver);
		});

		return p;
	}

	function populateResults(keys, states, results, resolver) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.some" id="apidoc.module.when.Promise.some">module when.Promise.some</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.some.some" id="apidoc.element.when.Promise.some.some">
        function <span class="apidocSignatureSpan">when.Promise.</span>some
        <span class="apidocSignatureSpan">(promises, n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function some(promises, n) {
			<span class="apidocCodeCommentSpan">/*jshint maxcomplexity:7*/
</span>			var p = Promise._defer();
			var resolver = p._handler;

			var results = [];
			var errors = [];

			var l = promises.length&#x3e;&#x3e;&#x3e;0;
			var nFulfill = 0;
			var nReject;
			var x, i; // reused in both for() loops

			// First pass: count actual array items
			for(i=0; i&#x3c;l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					continue;
				}
				++nFulfill;
			}

			// Compute actual goals
			n = Math.max(n, 0);
			nReject = (nFulfill - n + 1);
			nFulfill = Math.min(n, nFulfill);

			if(n &#x3e; nFulfill) {
				resolver.reject(new RangeError(&#x27;some(): array must contain at least &#x27;
				+ n + &#x27; item(s), but had &#x27; + nFulfill));
			} else if(nFulfill === 0) {
				resolver.resolve(results);
			}

			// Second pass: observe each array item, make progress toward goals
			for(i=0; i&#x3c;l; ++i) {
				x = promises[i];
				if(x === void 0 &#x26;&#x26; !(i in promises)) {
					continue;
				}

				Promise._handler(x).visit(resolver, fulfill, reject, resolver.notify);
			}

			return p;

			function fulfill(x) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				results.push(x);
				if(--nFulfill === 0) {
					errors = null;
					this.resolve(results);
				}
			}

			function reject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--nReject === 0) {
					results = null;
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.PromiseMonitor" id="apidoc.module.when.PromiseMonitor">module when.PromiseMonitor</a></h1>


    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.PromiseMonitor" id="apidoc.element.when.PromiseMonitor.PromiseMonitor">
        function <span class="apidocSignatureSpan">when.</span>PromiseMonitor
        <span class="apidocSignatureSpan">(reporter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PromiseMonitor(reporter) {
		this.logDelay = 0;
		this.stackFilter = defaultStackFilter;
		this.stackJumpSeparator = defaultStackJumpSeparator;
		this.filterDuplicateFrames = true;

		this._reporter = reporter;
		if(typeof reporter.configurePromiseMonitor === &#x27;function&#x27;) {
			reporter.configurePromiseMonitor(this);
		}

		this._traces = [];
		this._traceTask = 0;

		var self = this;
		this._doLogTraces = function() {
			self._logTraces();
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.PromiseMonitor.prototype" id="apidoc.module.when.PromiseMonitor.prototype">module when.PromiseMonitor.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype._appendContext" id="apidoc.element.when.PromiseMonitor.prototype._appendContext">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_appendContext
        <span class="apidocSignatureSpan">(trace, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_appendContext = function (trace, context) {
		trace.push.apply(trace, this._createTrace(context));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			return this._createLongTrace(t.handler.value, t.handler.context, t.extraContext);
		}, this);
	};

	PromiseMonitor.prototype._createLongTrace = function(e, context, extraContext) {
		var trace = error.parse(e) || [String(e) + &#x27; (WARNING: non-Error used)&#x27;];
		trace = filterFrames(this.stackFilter, trace, 0);
		this.<span class="apidocCodeKeywordSpan">_appendContext</span>(trace, context);
		this._appendContext(trace, extraContext);
		return this.filterDuplicateFrames ? this._removeDuplicates(trace) : trace;
	};

	PromiseMonitor.prototype._removeDuplicates = function(trace) {
		var seen = {};
		var sep = this.stackJumpSeparator;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype._createLongTrace" id="apidoc.element.when.PromiseMonitor.prototype._createLongTrace">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_createLongTrace
        <span class="apidocSignatureSpan">(e, context, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createLongTrace = function (e, context, extraContext) {
		var trace = error.parse(e) || [String(e) + &#x27; (WARNING: non-Error used)&#x27;];
		trace = filterFrames(this.stackFilter, trace, 0);
		this._appendContext(trace, context);
		this._appendContext(trace, extraContext);
		return this.filterDuplicateFrames ? this._removeDuplicates(trace) : trace;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	PromiseMonitor.prototype.removeTrace = function(/*handler*/) {
		this.logTraces();
	};

	PromiseMonitor.prototype.fatal = function(handler, extraContext) {
		var err = new Error();
		err.stack = this.<span class="apidocCodeKeywordSpan">_createLongTrace</span>(handler.value, handler.context, extraContext).join
(&#x27;\n&#x27;);
		setTimer(function() {
			throw err;
		}, 0);
	};

	PromiseMonitor.prototype.logTraces = function() {
		if(!this._traceTask) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype._createTrace" id="apidoc.element.when.PromiseMonitor.prototype._createTrace">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_createTrace
        <span class="apidocSignatureSpan">(traceChain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createTrace = function (traceChain) {
		var trace = [];
		var stack;

		while(traceChain) {
			stack = error.parse(traceChain);

			if (stack) {
				stack = filterFrames(this.stackFilter, stack);
				appendStack(trace, stack, this.stackJumpSeparator);
			}

			traceChain = traceChain.parent;
		}

		return trace;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				++count;
			}
			return deduped;
		}, []);
	};

	PromiseMonitor.prototype._appendContext = function(trace, context) {
		trace.push.apply(trace, this.<span class="apidocCodeKeywordSpan">_createTrace</span>(context));
	};

	PromiseMonitor.prototype._createTrace = function(traceChain) {
		var trace = [];
		var stack;

		while(traceChain) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype._logTraces" id="apidoc.element.when.PromiseMonitor.prototype._logTraces">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_logTraces
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_logTraces = function () {
		this._traceTask = void 0;
		this._traces = this._traces.filter(filterHandled);
		this._reporter.log(this.formatTraces(this._traces));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		}

		this._traces = [];
		this._traceTask = 0;

		var self = this;
		this._doLogTraces = function() {
			self.<span class="apidocCodeKeywordSpan">_logTraces</span>();
		};
	}

	PromiseMonitor.prototype.monitor = function(Promise) {
		var self = this;
		Promise.createContext = function(p, context) {
			p.context = self.createContext(p, context);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype._removeDuplicates" id="apidoc.element.when.PromiseMonitor.prototype._removeDuplicates">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>_removeDuplicates
        <span class="apidocSignatureSpan">(trace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_removeDuplicates = function (trace) {
		var seen = {};
		var sep = this.stackJumpSeparator;
		var count = 0;
		return trace.reduceRight(function(deduped, line, i) {
			if(i === 0) {
				deduped.unshift(line);
			} else if(line === sep) {
				if(count &#x3e; 0) {
					deduped.unshift(line);
					count = 0;
				}
			} else if(!seen[line]) {
				seen[line] = true;
				deduped.unshift(line);
				++count;
			}
			return deduped;
		}, []);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	};

	PromiseMonitor.prototype._createLongTrace = function(e, context, extraContext) {
		var trace = error.parse(e) || [String(e) + &#x27; (WARNING: non-Error used)&#x27;];
		trace = filterFrames(this.stackFilter, trace, 0);
		this._appendContext(trace, context);
		this._appendContext(trace, extraContext);
		return this.filterDuplicateFrames ? this.<span class="apidocCodeKeywordSpan">_removeDuplicates</span>(trace) : trace;
	};

	PromiseMonitor.prototype._removeDuplicates = function(trace) {
		var seen = {};
		var sep = this.stackJumpSeparator;
		var count = 0;
		return trace.reduceRight(function(deduped, line, i) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype.addTrace" id="apidoc.element.when.PromiseMonitor.prototype.addTrace">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>addTrace
        <span class="apidocSignatureSpan">(handler, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTrace = function (handler, extraContext) {
		var t, i;

		for(i = this._traces.length-1; i &#x3e;= 0; --i) {
			t = this._traces[i];
			if(t.handler === handler) {
				break;
			}
		}

		if(i &#x3e;= 0) {
			t.extraContext = extraContext;
		} else {
			this._traces.push({
				handler: handler,
				extraContext: extraContext
			});
		}

		this.logTraces();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		};

		Promise.exitContext = function() {
			executionContext.pop();
		};

		Promise.onPotentiallyUnhandledRejection = function(rejection, extraContext) {
			return self.<span class="apidocCodeKeywordSpan">addTrace</span>(rejection, extraContext);
		};

		Promise.onPotentiallyUnhandledRejectionHandled = function(rejection) {
			return self.removeTrace(rejection);
		};

		Promise.onFatalRejection = function(rejection, extraContext) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype.createContext" id="apidoc.element.when.PromiseMonitor.prototype.createContext">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>createContext
        <span class="apidocSignatureSpan">(at, parentContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createContext = function (at, parentContext) {
		var context = {
			parent: parentContext || executionContext[executionContext.length - 1],
			stack: void 0
		};
		error.captureStack(context, at.constructor);
		return context;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var failIfRejected = new FailIfRejected();

		/**
		 * Handler that manages a queue of consumers waiting on a pending promise
		 * @constructor
		 */
		function Pending(receiver, inheritedContext) {
			Promise.<span class="apidocCodeKeywordSpan">createContext</span>(this, inheritedContext);

			this.consumers = void 0;
			this.receiver = receiver;
			this.handler = void 0;
			this.resolved = false;
		}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype.fatal" id="apidoc.element.when.PromiseMonitor.prototype.fatal">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>fatal
        <span class="apidocSignatureSpan">(handler, extraContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function (handler, extraContext) {
		var err = new Error();
		err.stack = this._createLongTrace(handler.value, handler.context, extraContext).join(&#x27;\n&#x27;);
		setTimer(function() {
			throw err;
		}, 0);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		};

		Promise.onPotentiallyUnhandledRejectionHandled = function(rejection) {
			return self.removeTrace(rejection);
		};

		Promise.onFatalRejection = function(rejection, extraContext) {
			return self.<span class="apidocCodeKeywordSpan">fatal</span>(rejection, extraContext);
		};

		return this;
	};

	PromiseMonitor.prototype.createContext = function(at, parentContext) {
		var context = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype.formatTraces" id="apidoc.element.when.PromiseMonitor.prototype.formatTraces">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>formatTraces
        <span class="apidocSignatureSpan">(traces)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">formatTraces = function (traces) {
		return traces.map(function(t) {
			return this._createLongTrace(t.handler.value, t.handler.context, t.extraContext);
		}, this);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			this._traceTask = setTimer(this._doLogTraces, this.logDelay);
		}
	};

	PromiseMonitor.prototype._logTraces = function() {
		this._traceTask = void 0;
		this._traces = this._traces.filter(filterHandled);
		this._reporter.log(this.<span class="apidocCodeKeywordSpan">formatTraces</span>(this._traces));
	};


	PromiseMonitor.prototype.formatTraces = function(traces) {
		return traces.map(function(t) {
			return this._createLongTrace(t.handler.value, t.handler.context, t.extraContext);
		}, this);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype.logTraces" id="apidoc.element.when.PromiseMonitor.prototype.logTraces">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>logTraces
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logTraces = function () {
		if(!this._traceTask) {
			this._traceTask = setTimer(this._doLogTraces, this.logDelay);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		} else {
			this._traces.push({
				handler: handler,
				extraContext: extraContext
			});
		}

		this.<span class="apidocCodeKeywordSpan">logTraces</span>();
	};

	PromiseMonitor.prototype.removeTrace = function(/*handler*/) {
		this.logTraces();
	};

	PromiseMonitor.prototype.fatal = function(handler, extraContext) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype.monitor" id="apidoc.element.when.PromiseMonitor.prototype.monitor">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>monitor
        <span class="apidocSignatureSpan">(Promise)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">monitor = function (Promise) {
		var self = this;
		Promise.createContext = function(p, context) {
			p.context = self.createContext(p, context);
		};

		Promise.enterContext = function(p) {
			executionContext.push(p.context);
		};

		Promise.exitContext = function() {
			executionContext.pop();
		};

		Promise.onPotentiallyUnhandledRejection = function(rejection, extraContext) {
			return self.addTrace(rejection, extraContext);
		};

		Promise.onPotentiallyUnhandledRejectionHandled = function(rejection) {
			return self.removeTrace(rejection);
		};

		Promise.onFatalRejection = function(rejection, extraContext) {
			return self.fatal(rejection, extraContext);
		};

		return this;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	var PromiseMonitor = require(&#x27;./monitor/PromiseMonitor&#x27;);
	var ConsoleReporter = require(&#x27;./monitor/ConsoleReporter&#x27;);

	var promiseMonitor = new PromiseMonitor(new ConsoleReporter());

	return function(Promise) {
		return promiseMonitor.<span class="apidocCodeKeywordSpan">monitor</span>(Promise);
	};
});
}(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function(factory) { module.exports = factory(require
); }));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.PromiseMonitor.prototype.removeTrace" id="apidoc.element.when.PromiseMonitor.prototype.removeTrace">
        function <span class="apidocSignatureSpan">when.PromiseMonitor.prototype.</span>removeTrace
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeTrace = function () {
		this.logTraces();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		};

		Promise.onPotentiallyUnhandledRejection = function(rejection, extraContext) {
			return self.addTrace(rejection, extraContext);
		};

		Promise.onPotentiallyUnhandledRejectionHandled = function(rejection) {
			return self.<span class="apidocCodeKeywordSpan">removeTrace</span>(rejection);
		};

		Promise.onFatalRejection = function(rejection, extraContext) {
			return self.fatal(rejection, extraContext);
		};

		return this;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Scheduler" id="apidoc.module.when.Scheduler">module when.Scheduler</a></h1>


    <h2>
        <a href="#apidoc.element.when.Scheduler.Scheduler" id="apidoc.element.when.Scheduler.Scheduler">
        function <span class="apidocSignatureSpan">when.</span>Scheduler
        <span class="apidocSignatureSpan">(async)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Scheduler(async) {
		this._async = async;
		this._running = false;

		this._queue = this;
		this._queueLen = 0;
		this._afterQueue = {};
		this._afterQueueLen = 0;

		var self = this;
		this.drain = function() {
			self._drain();
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Scheduler.prototype" id="apidoc.module.when.Scheduler.prototype">module when.Scheduler.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.when.Scheduler.prototype._drain" id="apidoc.element.when.Scheduler.prototype._drain">
        function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>_drain
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_drain = function () {
		var i = 0;
		for (; i &#x3c; this._queueLen; ++i) {
			this._queue[i].run();
			this._queue[i] = void 0;
		}

		this._queueLen = 0;
		this._running = false;

		for (i = 0; i &#x3c; this._afterQueueLen; ++i) {
			this._afterQueue[i].run();
			this._afterQueue[i] = void 0;
		}

		this._afterQueueLen = 0;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		this._queue = this;
		this._queueLen = 0;
		this._afterQueue = {};
		this._afterQueueLen = 0;

		var self = this;
		this.drain = function() {
			self.<span class="apidocCodeKeywordSpan">_drain</span>();
		};
	}

	/**
	 * Enqueue a task
	 * @param {{ run:function }} task
	 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Scheduler.prototype.afterQueue" id="apidoc.element.when.Scheduler.prototype.afterQueue">
        function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>afterQueue
        <span class="apidocSignatureSpan">(task)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">afterQueue = function (task) {
		this._afterQueue[this._afterQueueLen++] = task;
		this.run();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			if(typeof cont.rejected === &#x27;function&#x27;) {
				this._unreport();
			}
			runContinuation1(cont.rejected, this, cont.receiver, cont.resolver);
		};

		Rejected.prototype._report = function(context) {
			tasks.<span class="apidocCodeKeywordSpan">afterQueue</span>(new ReportTask(this, context));
		};

		Rejected.prototype._unreport = function() {
			if(this.handled) {
				return;
			}
			this.handled = true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Scheduler.prototype.enqueue" id="apidoc.element.when.Scheduler.prototype.enqueue">
        function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>enqueue
        <span class="apidocSignatureSpan">(task)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enqueue = function (task) {
		this._queue[this._queueLen++] = task;
		this.run();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			if(this.resolved) {
				return;
			}

			this.resolved = true;
			this.handler = handler;
			if(this.consumers !== void 0) {
				tasks.<span class="apidocCodeKeywordSpan">enqueue</span>(this);
			}

			if(this.context !== void 0) {
				handler._report(this.context);
			}
		};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Scheduler.prototype.run" id="apidoc.element.when.Scheduler.prototype.run">
        function <span class="apidocSignatureSpan">when.Scheduler.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">run = function () {
		if (!this._running) {
			this._running = true;
			this._async(this.drain);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	/**
	 * Enqueue a task
	 * @param {{ run:function }} task
	 */
	Scheduler.prototype.enqueue = function(task) {
		this._queue[this._queueLen++] = task;
		this.<span class="apidocCodeKeywordSpan">run</span>();
	};

	/**
	 * Enqueue a task to run after the main task queue
	 * @param {{ run:function }} task
	 */
	Scheduler.prototype.afterQueue = function(task) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.TimeoutError" id="apidoc.module.when.TimeoutError">module when.TimeoutError</a></h1>


    <h2>
        <a href="#apidoc.element.when.TimeoutError.TimeoutError" id="apidoc.element.when.TimeoutError.TimeoutError">
        function <span class="apidocSignatureSpan">when.</span>TimeoutError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TimeoutError(message) {
		Error.call(this);
		this.message = message;
		this.name = TimeoutError.name;
		if (typeof Error.captureStackTrace === &#x27;function&#x27;) {
			Error.captureStackTrace(this, TimeoutError);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.TimeoutError.prototype" id="apidoc.module.when.TimeoutError.prototype">module when.TimeoutError.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.when.TimeoutError.prototype.constructor" id="apidoc.element.when.TimeoutError.prototype.constructor">
        function <span class="apidocSignatureSpan">when.TimeoutError.prototype.</span>constructor
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TimeoutError(message) {
		Error.call(this);
		this.message = message;
		this.name = TimeoutError.name;
		if (typeof Error.captureStackTrace === &#x27;function&#x27;) {
			Error.captureStackTrace(this, TimeoutError);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		Promise.prototype.then = function(onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.join().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.<span class="apidocCodeKeywordSpan">constructor</span>(Handler, parent);
			}

			var p = this._beget();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.all" id="apidoc.module.when.all">module when.all</a></h1>


    <h2>
        <a href="#apidoc.element.when.all.all" id="apidoc.element.when.all.all">
        function <span class="apidocSignatureSpan">when.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function all(promises) {
		return when(promises, Promise.all);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Return a promise that will resolve only once all the supplied arguments
	 * have resolved. The resolution value of the returned promise will be an array
	 * containing the resolution values of each of the arguments.
	 * @param {...*} arguments may be a mix of promises and values
	 * @returns {Promise}
	 */
	function join(/* ...promises */) {
		return Promise.<span class="apidocCodeKeywordSpan">all</span>(arguments);
	}

	/**
	 * Return a promise that will fulfill once all input promises have
	 * fulfilled, or reject when any one input promise rejects.
	 * @param {array|Promise} promises array (or promise for an array) of promises
	 * @returns {Promise}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.any" id="apidoc.module.when.any">module when.any</a></h1>


    <h2>
        <a href="#apidoc.element.when.any.any" id="apidoc.element.when.any.any">
        function <span class="apidocSignatureSpan">when.</span>any
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">any = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.apply" id="apidoc.module.when.apply">module when.apply</a></h1>


    <h2>
        <a href="#apidoc.element.when.apply.apply" id="apidoc.element.when.apply.apply">
        function <span class="apidocSignatureSpan">when.</span>apply
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function apply() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Takes a `traditional` callback-taking function and returns a promise for its
	 * result, accepting an optional array of arguments (that might be values or
	 * promises). It assumes that the function takes its callback and errback as
	 * the last two arguments. The resolution of the promise depends on whether the
	 * function will call its callback or its errback.
	 *
	 * @example
	 *    var domIsLoaded = callbacks.<span class="apidocCodeKeywordSpan">apply</span>($);
	 *    domIsLoaded.then(function() {
	 *		doMyDomStuff();
	 *	});
	 *
	 * @example
	 *    function existingAjaxyFunction(url, callback, errback) {
	 *		// Complex logic you&#x27;d rather not change
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.apply.tryCatchResolve" id="apidoc.element.when.apply.tryCatchResolve">
        function <span class="apidocSignatureSpan">when.apply.</span>tryCatchResolve
        <span class="apidocSignatureSpan">(f, thisArg, args, resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tryCatchResolve(f, thisArg, args, resolver) {
		try {
			resolver.resolve(f.apply(thisArg, args));
		} catch(e) {
			resolver.reject(e);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.callbacks" id="apidoc.module.when.callbacks">module when.callbacks</a></h1>


    <h2>
        <a href="#apidoc.element.when.callbacks.apply" id="apidoc.element.when.callbacks.apply">
        function <span class="apidocSignatureSpan">when.callbacks.</span>apply
        <span class="apidocSignatureSpan">(asyncFunction, extraAsyncArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function apply(asyncFunction, extraAsyncArgs) {
		return _apply(asyncFunction, this, extraAsyncArgs || []);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Takes a `traditional` callback-taking function and returns a promise for its
	 * result, accepting an optional array of arguments (that might be values or
	 * promises). It assumes that the function takes its callback and errback as
	 * the last two arguments. The resolution of the promise depends on whether the
	 * function will call its callback or its errback.
	 *
	 * @example
	 *    var domIsLoaded = callbacks.<span class="apidocCodeKeywordSpan">apply</span>($);
	 *    domIsLoaded.then(function() {
	 *		doMyDomStuff();
	 *	});
	 *
	 * @example
	 *    function existingAjaxyFunction(url, callback, errback) {
	 *		// Complex logic you&#x27;d rather not change
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.call" id="apidoc.element.when.callbacks.call">
        function <span class="apidocSignatureSpan">when.callbacks.</span>call
        <span class="apidocSignatureSpan">(asyncFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function call(asyncFunction) {
		return _apply(asyncFunction, this, slice.call(arguments, 1));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @example
	 *    function sumInFiveSeconds(a, b, callback) {
	 *		setTimeout(function() {
	 *			callback(a + b);
	 *		}, 5000);
	 *	}
	 *
	 *    var sumPromise = callbacks.<span class="apidocCodeKeywordSpan">call</span>(sumInFiveSeconds, 5, 10);
	 *
	 *    // Logs &#x27;15&#x27; 5 seconds later
	 *    sumPromise.then(console.log);
	 *
	 * @param {function} asyncFunction function to be called
	 * @param {...*} args arguments that will be forwarded to the function
	 * @returns {Promise} promise for the callback value of asyncFunction
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.lift" id="apidoc.element.when.callbacks.lift">
        function <span class="apidocSignatureSpan">when.callbacks.</span>lift
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(f) {
		var args = arguments.length &#x3e; 1 ? slice.call(arguments, 1) : [];
		return function() {
			return _apply(f, this, args.concat(slice.call(arguments)));
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax(&#x22;GET&#x22;, &#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, &#x22;GET&#x22;);
	 *    promiseAjaxGet(&#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.liftAll" id="apidoc.element.when.callbacks.liftAll">
        function <span class="apidocSignatureSpan">when.callbacks.</span>liftAll
        <span class="apidocSignatureSpan">(src, combine, dst)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function liftAll(src, combine, dst) {
		return _liftAll(lift, combine, dst, src);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.promisify" id="apidoc.element.when.callbacks.promisify">
        function <span class="apidocSignatureSpan">when.callbacks.</span>promisify
        <span class="apidocSignatureSpan">(asyncFunction, positions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function promisify(asyncFunction, positions) {

		return function() {
			var thisArg = this;
			return Promise.all(arguments).then(function(args) {
				var p = Promise._defer();

				var callbackPos, errbackPos;

				if(typeof positions.callback === &#x27;number&#x27;) {
					callbackPos = normalizePosition(args, positions.callback);
				}

				if(typeof positions.errback === &#x27;number&#x27;) {
					errbackPos = normalizePosition(args, positions.errback);
				}

				if(errbackPos &#x3c; callbackPos) {
					insertCallback(args, errbackPos, p._handler.reject, p._handler);
					insertCallback(args, callbackPos, p._handler.resolve, p._handler);
				} else {
					insertCallback(args, callbackPos, p._handler.resolve, p._handler);
					insertCallback(args, errbackPos, p._handler.reject, p._handler);
				}

				asyncFunction.apply(thisArg, args);

				return p;
			});
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * of the arguments array.
	 *
	 * If arguments are given on the call to the &#x27;promisified&#x27; function, they are
	 * intermingled with the callback and errback. If a promise is given among them,
	 * the execution of the function will only occur after its resolution.
	 *
	 * @example
	 *    var delay = callbacks.<span class="apidocCodeKeywordSpan">promisify</span>(setTimeout, {
	 *		callback: 0
	 *	});
	 *
	 *    delay(100).then(function() {
	 *		console.log(&#x22;This happens 100ms afterwards&#x22;);
	 *	});
	 *
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.cancelable" id="apidoc.module.when.cancelable">module when.cancelable</a></h1>


    <h2>
        <a href="#apidoc.element.when.cancelable.cancelable" id="apidoc.element.when.cancelable.cancelable">
        function <span class="apidocSignatureSpan">when.</span>cancelable
        <span class="apidocSignatureSpan">(deferred, canceler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cancelable = function (deferred, canceler) {
    // Add a cancel method to the deferred to reject the delegate
    // with the special canceled indicator.
    deferred.cancel = function() {
			try {
				deferred.reject(canceler(deferred));
			} catch(e) {
				deferred.reject(e);
			}

			return deferred.promise;
    };

    return deferred;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.console" id="apidoc.module.when.console">module when.console</a></h1>




    <h2>
        <a href="#apidoc.element.when.console._doLogTraces" id="apidoc.element.when.console._doLogTraces">
        function <span class="apidocSignatureSpan">when.console.</span>_doLogTraces
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_doLogTraces = function () {
			self._logTraces();
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.defer" id="apidoc.module.when.defer">module when.defer</a></h1>


    <h2>
        <a href="#apidoc.element.when.defer.defer" id="apidoc.element.when.defer.defer">
        function <span class="apidocSignatureSpan">when.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defer() {
		return new Deferred();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Decorator that makes a deferred &#x22;cancelable&#x22;.  It adds a cancel() method that
 * will call a special cancel handler function and then reject the deferred.  The
 * cancel handler can be used to do resource cleanup, or anything else that should
 * be done before any other rejection handlers are executed.
 *
 * Usage:
 *
 * var cancelableDeferred = cancelable(when.<span class="apidocCodeKeywordSpan">defer</span>(), myCancelHandler);
 *
 * @author brian@hovercraftstudios.com
 */

(function(define) {
define(function() {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.delay" id="apidoc.module.when.delay">module when.delay</a></h1>


    <h2>
        <a href="#apidoc.element.when.delay.delay" id="apidoc.element.when.delay.delay">
        function <span class="apidocSignatureSpan">when.</span>delay
        <span class="apidocSignatureSpan">(msec, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function delay(msec, value) {
		return when(value).delay(msec);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(value).<span class="apidocCodeKeywordSpan">delay</span>(ms)
     */
    return function delay(msec, value) {
		return when(value).delay(msec);
    };

});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.env" id="apidoc.module.when.env">module when.env</a></h1>


    <h2>
        <a href="#apidoc.element.when.env.asap" id="apidoc.element.when.env.asap">
        function <span class="apidocSignatureSpan">when.env.</span>asap
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asap = function (f) { return process.nextTick(f); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.env.clearTimer" id="apidoc.element.when.env.clearTimer">
        function <span class="apidocSignatureSpan">when.env.</span>clearTimer
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearTimer = function (t) { return clearTimeout(t); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.env.setTimer" id="apidoc.element.when.env.setTimer">
        function <span class="apidocSignatureSpan">when.env.</span>setTimer
        <span class="apidocSignatureSpan">(f, ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTimer = function (f, ms) { return setTimeout(f, ms); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	} else if (MutationObs = hasMutationObserver()) { // Modern browser
		asap = initMutationObserver(MutationObs);

	} else if (!capturedSetTimeout) { // vert.x
		var vertxRequire = require;
		var vertx = vertxRequire(&#x27;vertx&#x27;);
		setTimer = function (f, ms) { return vertx.<span class="apidocCodeKeywordSpan">setTimer</span>(ms, f); };
		clearTimer = vertx.cancelTimer;
		asap = vertx.runOnLoop || vertx.runOnContext;
	}

	return {
		setTimer: setTimer,
		clearTimer: clearTimer,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.error" id="apidoc.module.when.error">module when.error</a></h1>


    <h2>
        <a href="#apidoc.element.when.error.captureStack" id="apidoc.element.when.error.captureStack">
        function <span class="apidocSignatureSpan">when.error.</span>captureStack
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function captureStackTrace() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	};

	PromiseMonitor.prototype.createContext = function(at, parentContext) {
		var context = {
			parent: parentContext || executionContext[executionContext.length - 1],
			stack: void 0
		};
		error.<span class="apidocCodeKeywordSpan">captureStack</span>(context, at.constructor);
		return context;
	};

	PromiseMonitor.prototype.addTrace = function(handler, extraContext) {
		var t, i;

		for(i = this._traces.length-1; i &#x3e;= 0; --i) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.error.format" id="apidoc.element.when.error.format">
        function <span class="apidocSignatureSpan">when.error.</span>format
        <span class="apidocSignatureSpan">(longTrace)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function formatAsString(longTrace) {
		return join(longTrace);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		} finally {
			this.groupEnd();
		}
	};

	ConsoleReporter.prototype._log = function(traces) {
		for(var i=0; i&#x3c;traces.length; ++i) {
			this.warn(error.<span class="apidocCodeKeywordSpan">format</span>(traces[i]));
		}
	};

	function initDefaultLogging() {
		/*jshint maxcomplexity:7*/
		var log, warn, groupStart, groupEnd;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.error.parse" id="apidoc.element.when.error.parse">
        function <span class="apidocSignatureSpan">when.error.</span>parse
        <span class="apidocSignatureSpan">(e)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (e) {
			return e &#x26;&#x26; e.stack &#x26;&#x26; e.stack.split(&#x27;\n&#x27;);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	PromiseMonitor.prototype.formatTraces = function(traces) {
		return traces.map(function(t) {
			return this._createLongTrace(t.handler.value, t.handler.context, t.extraContext);
		}, this);
	};

	PromiseMonitor.prototype._createLongTrace = function(e, context, extraContext) {
		var trace = error.<span class="apidocCodeKeywordSpan">parse</span>(e) || [String(e) + &#x27; (WARNING: non-Error used)&#x27;];
		trace = filterFrames(this.stackFilter, trace, 0);
		this._appendContext(trace, context);
		this._appendContext(trace, extraContext);
		return this.filterDuplicateFrames ? this._removeDuplicates(trace) : trace;
	};

	PromiseMonitor.prototype._removeDuplicates = function(trace) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.filter" id="apidoc.module.when.filter">module when.filter</a></h1>


    <h2>
        <a href="#apidoc.element.when.filter.filter" id="apidoc.element.when.filter.filter">
        function <span class="apidocSignatureSpan">when.</span>filter
        <span class="apidocSignatureSpan">(promises, predicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter(promises, predicate) {
		return when(promises, function(promises) {
			return Promise.filter(promises, predicate);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.settle      = settle;               // Settle a list of promises

	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.<span class="apidocCodeKeywordSpan">filter</span>() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.format" id="apidoc.module.when.format">module when.format</a></h1>


    <h2>
        <a href="#apidoc.element.when.format.formatError" id="apidoc.element.when.format.formatError">
        function <span class="apidocSignatureSpan">when.format.</span>formatError
        <span class="apidocSignatureSpan">(e)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function formatError(e) {
		var s = typeof e === &#x27;object&#x27; &#x26;&#x26; e !== null &#x26;&#x26; (e.stack || e.message) ? e.stack || e.message : formatObject(e);
		return e instanceof Error ? s : s + &#x27; (WARNING: non-Error used)&#x27;;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var tasks = [];
		var reported = [];
		var running = null;

		function report(r) {
			if(!r.handled) {
				reported.push(r);
				logError(&#x27;Potentially unhandled rejection [&#x27; + r.id + &#x27;] &#x27; + format.<span class="apidocCodeKeywordSpan">
formatError</span>(r.value));
			}
		}

		function unreport(r) {
			var i = reported.indexOf(r);
			if(i &#x3e;= 0) {
				reported.splice(i, 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.format.formatObject" id="apidoc.element.when.format.formatObject">
        function <span class="apidocSignatureSpan">when.format.</span>formatObject
        <span class="apidocSignatureSpan">(o)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function formatObject(o) {
		var s = String(o);
		if(s === &#x27;[object Object]&#x27; &#x26;&#x26; typeof JSON !== &#x27;undefined&#x27;) {
			s = tryStringify(o, s);
		}
		return s;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			}
		}

		function unreport(r) {
			var i = reported.indexOf(r);
			if(i &#x3e;= 0) {
				reported.splice(i, 1);
				logInfo(&#x27;Handled previous rejection [&#x27; + r.id + &#x27;] &#x27; + format.<span class="apidocCodeKeywordSpan">formatObject
</span>(r.value));
			}
		}

		function enqueue(f, x) {
			tasks.push(f, x);
			if(running === null) {
				running = setTimer(flush, 0);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.format.tryStringify" id="apidoc.element.when.format.tryStringify">
        function <span class="apidocSignatureSpan">when.format.</span>tryStringify
        <span class="apidocSignatureSpan">(x, defaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tryStringify(x, defaultValue) {
		try {
			return JSON.stringify(x);
		} catch(e) {
			return defaultValue;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.function" id="apidoc.module.when.function">module when.function</a></h1>


    <h2>
        <a href="#apidoc.element.when.function.apply" id="apidoc.element.when.function.apply">
        function <span class="apidocSignatureSpan">when.function.</span>apply
        <span class="apidocSignatureSpan">(f, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function apply(f, args) {
		// slice args just in case the caller passed an Arguments instance
		return _apply(f, this, args == null ? [] : slice.call(args));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Takes a `traditional` callback-taking function and returns a promise for its
	 * result, accepting an optional array of arguments (that might be values or
	 * promises). It assumes that the function takes its callback and errback as
	 * the last two arguments. The resolution of the promise depends on whether the
	 * function will call its callback or its errback.
	 *
	 * @example
	 *    var domIsLoaded = callbacks.<span class="apidocCodeKeywordSpan">apply</span>($);
	 *    domIsLoaded.then(function() {
	 *		doMyDomStuff();
	 *	});
	 *
	 * @example
	 *    function existingAjaxyFunction(url, callback, errback) {
	 *		// Complex logic you&#x27;d rather not change
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.function.call" id="apidoc.element.when.function.call">
        function <span class="apidocSignatureSpan">when.function.</span>call
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function attempt(f) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true */
</span>		for(var i=0, l=arguments.length-1, a=new Array(l); i&#x3c;l; ++i) {
			a[i] = arguments[i+1];
		}
		return apply(f, this, a);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @example
	 *    function sumInFiveSeconds(a, b, callback) {
	 *		setTimeout(function() {
	 *			callback(a + b);
	 *		}, 5000);
	 *	}
	 *
	 *    var sumPromise = callbacks.<span class="apidocCodeKeywordSpan">call</span>(sumInFiveSeconds, 5, 10);
	 *
	 *    // Logs &#x27;15&#x27; 5 seconds later
	 *    sumPromise.then(console.log);
	 *
	 * @param {function} asyncFunction function to be called
	 * @param {...*} args arguments that will be forwarded to the function
	 * @returns {Promise} promise for the callback value of asyncFunction
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.function.compose" id="apidoc.element.when.function.compose">
        function <span class="apidocSignatureSpan">when.function.</span>compose
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function compose(f) {
		var funcs = slice.call(arguments, 1);

		return function() {
			var thisArg = this;
			var args = slice.call(arguments);
			var firstPromise = attempt.apply(thisArg, [f].concat(args));

			return when.reduce(funcs, function(arg, func) {
				return func.call(thisArg, arg);
			}, firstPromise);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.function.lift" id="apidoc.element.when.function.lift">
        function <span class="apidocSignatureSpan">when.function.</span>lift
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(f) {
		var args = arguments.length &#x3e; 1 ? slice.call(arguments, 1) : [];
		return function() {
			return _apply(f, this, args.concat(slice.call(arguments)));
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax(&#x22;GET&#x22;, &#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, &#x22;GET&#x22;);
	 *    promiseAjaxGet(&#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.function.liftAll" id="apidoc.element.when.function.liftAll">
        function <span class="apidocSignatureSpan">when.function.</span>liftAll
        <span class="apidocSignatureSpan">(src, combine, dst)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function liftAll(src, combine, dst) {
		return _liftAll(lift, combine, dst, src);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.generator" id="apidoc.module.when.generator">module when.generator</a></h1>


    <h2>
        <a href="#apidoc.element.when.generator.apply" id="apidoc.element.when.generator.apply">
        function <span class="apidocSignatureSpan">when.generator.</span>apply
        <span class="apidocSignatureSpan">(generator, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function apply(generator, args) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true*/
</span>		return run(generator, this, args || []);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Takes a `traditional` callback-taking function and returns a promise for its
	 * result, accepting an optional array of arguments (that might be values or
	 * promises). It assumes that the function takes its callback and errback as
	 * the last two arguments. The resolution of the promise depends on whether the
	 * function will call its callback or its errback.
	 *
	 * @example
	 *    var domIsLoaded = callbacks.<span class="apidocCodeKeywordSpan">apply</span>($);
	 *    domIsLoaded.then(function() {
	 *		doMyDomStuff();
	 *	});
	 *
	 * @example
	 *    function existingAjaxyFunction(url, callback, errback) {
	 *		// Complex logic you&#x27;d rather not change
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.generator.call" id="apidoc.element.when.generator.call">
        function <span class="apidocSignatureSpan">when.generator.</span>call
        <span class="apidocSignatureSpan">(generator)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function call(generator) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true*/
</span>		return run(generator, this, slice.call(arguments, 1));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @example
	 *    function sumInFiveSeconds(a, b, callback) {
	 *		setTimeout(function() {
	 *			callback(a + b);
	 *		}, 5000);
	 *	}
	 *
	 *    var sumPromise = callbacks.<span class="apidocCodeKeywordSpan">call</span>(sumInFiveSeconds, 5, 10);
	 *
	 *    // Logs &#x27;15&#x27; 5 seconds later
	 *    sumPromise.then(console.log);
	 *
	 * @param {function} asyncFunction function to be called
	 * @param {...*} args arguments that will be forwarded to the function
	 * @returns {Promise} promise for the callback value of asyncFunction
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.generator.lift" id="apidoc.element.when.generator.lift">
        function <span class="apidocSignatureSpan">when.generator.</span>lift
        <span class="apidocSignatureSpan">(generator)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(generator) {
		return function() {
			return run(generator, this, arguments);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax(&#x22;GET&#x22;, &#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, &#x22;GET&#x22;);
	 *    promiseAjaxGet(&#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.guard" id="apidoc.module.when.guard">module when.guard</a></h1>


    <h2>
        <a href="#apidoc.element.when.guard.guard" id="apidoc.element.when.guard.guard">
        function <span class="apidocSignatureSpan">when.</span>guard
        <span class="apidocSignatureSpan">(condition, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function guard(condition, f) {
		return function() {
			var args = slice.call(arguments);

			return when(condition()).withThis(this).then(function(exit) {
				return when(f.apply(this, args))[&#x27;finally&#x27;](exit);
			});
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.guard.n" id="apidoc.element.when.guard.n">
        function <span class="apidocSignatureSpan">when.guard.</span>n
        <span class="apidocSignatureSpan">(allowed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function n(allowed) {
		var count = 0;
		var waiting = [];

		return function enter() {
			return when.promise(function(resolve) {
				if(count &#x3c; allowed) {
					resolve(exit);
				} else {
					waiting.push(resolve);
				}
				count += 1;
			});
		};

		function exit() {
			count = Math.max(count - 1, 0);
			if(waiting.length &#x3e; 0) {
				waiting.shift()(exit);
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.isPromiseLike" id="apidoc.module.when.isPromiseLike">module when.isPromiseLike</a></h1>


    <h2>
        <a href="#apidoc.element.when.isPromiseLike.isPromiseLike" id="apidoc.element.when.isPromiseLike.isPromiseLike">
        function <span class="apidocSignatureSpan">when.</span>isPromiseLike
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPromiseLike(x) {
		return x &#x26;&#x26; typeof x.then === &#x27;function&#x27;;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.iterate" id="apidoc.module.when.iterate">module when.iterate</a></h1>


    <h2>
        <a href="#apidoc.element.when.iterate.iterate" id="apidoc.element.when.iterate.iterate">
        function <span class="apidocSignatureSpan">when.</span>iterate
        <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function iterate(f, condition, handler, x) {
			return unfold(function(x) {
				return [x, f(x)];
			}, condition, handler, x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.join" id="apidoc.module.when.join">module when.join</a></h1>


    <h2>
        <a href="#apidoc.element.when.join.join" id="apidoc.element.when.join.join">
        function <span class="apidocSignatureSpan">when.</span>join
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function join() {
		return Promise.all(arguments);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		 * @param {function=} onFulfilled fulfillment handler
		 * @param {function=} onRejected rejection handler
		 * @param {function=} onProgress @deprecated progress handler
		 * @return {Promise} new promise
		 */
		Promise.prototype.then = function(onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.<span class="apidocCodeKeywordSpan">join</span>().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.keys" id="apidoc.module.when.keys">module when.keys</a></h1>


    <h2>
        <a href="#apidoc.element.when.keys.all" id="apidoc.element.when.keys.all">
        function <span class="apidocSignatureSpan">when.keys.</span>all
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">all = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Return a promise that will resolve only once all the supplied arguments
	 * have resolved. The resolution value of the returned promise will be an array
	 * containing the resolution values of each of the arguments.
	 * @param {...*} arguments may be a mix of promises and values
	 * @returns {Promise}
	 */
	function join(/* ...promises */) {
		return Promise.<span class="apidocCodeKeywordSpan">all</span>(arguments);
	}

	/**
	 * Return a promise that will fulfill once all input promises have
	 * fulfilled, or reject when any one input promise rejects.
	 * @param {array|Promise} promises array (or promise for an array) of promises
	 * @returns {Promise}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.keys.map" id="apidoc.element.when.keys.map">
        function <span class="apidocSignatureSpan">when.keys.</span>map
        <span class="apidocSignatureSpan">(object, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(object, f) {
		return toPromise(object).then(function(object) {
			return all(Object.keys(object).reduce(function(o, k) {
				o[k] = toPromise(object[k]).fold(mapWithKey, k);
				return o;
			}, {}));
		});

		function mapWithKey(k, x) {
			return f(x, k);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.reduce(when.<span class="apidocCodeKeywordSpan">map</span>(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.keys.settle" id="apidoc.element.when.keys.settle">
        function <span class="apidocSignatureSpan">when.keys.</span>settle
        <span class="apidocSignatureSpan">(object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(object) {
		var keys = Object.keys(object);
		var results = {};

		if(keys.length === 0) {
			return toPromise(results);
		}

		var p = Promise._defer();
		var resolver = Promise._handler(p);
		var promises = keys.map(function(k) { return object[k]; });

		when.settle(promises).then(function(states) {
			populateResults(keys, states, results, resolver);
		});

		return p;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			return toPromise(results);
		}

		var p = Promise._defer();
		var resolver = Promise._handler(p);
		var promises = keys.map(function(k) { return object[k]; });

		when.<span class="apidocCodeKeywordSpan">settle</span>(promises).then(function(states) {
			populateResults(keys, states, results, resolver);
		});

		return p;
	}

	function populateResults(keys, states, results, resolver) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.lift" id="apidoc.module.when.lift">module when.lift</a></h1>


    <h2>
        <a href="#apidoc.element.when.lift.lift" id="apidoc.element.when.lift.lift">
        function <span class="apidocSignatureSpan">when.</span>lift
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(f) {
		return function() {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax(&#x22;GET&#x22;, &#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, &#x22;GET&#x22;);
	 *    promiseAjaxGet(&#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.liftAll" id="apidoc.module.when.liftAll">module when.liftAll</a></h1>


    <h2>
        <a href="#apidoc.element.when.liftAll.liftAll" id="apidoc.element.when.liftAll.liftAll">
        function <span class="apidocSignatureSpan">when.</span>liftAll
        <span class="apidocSignatureSpan">(liftOne, combine, dst, src)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function liftAll(liftOne, combine, dst, src) {
		if(typeof combine === &#x27;undefined&#x27;) {
			combine = defaultCombine;
		}

		return Object.keys(src).reduce(function(dst, key) {
			var f = src[key];
			return typeof f === &#x27;function&#x27; ? combine(dst, liftOne(f), key) : dst;
		}, typeof dst === &#x27;undefined&#x27; ? defaultDst(src) : dst);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.list" id="apidoc.module.when.list">module when.list</a></h1>


    <h2>
        <a href="#apidoc.element.when.list.list" id="apidoc.element.when.list.list">
        function <span class="apidocSignatureSpan">when.</span>list
        <span class="apidocSignatureSpan">(generator, condition, seed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function list(generator, condition, seed) {
		var result = [];

		return unfold(generator, condition, append, seed)[&#x27;yield&#x27;](result);

		function append(value, newSeed) {
			result.push(value);
			return newSeed;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.makePromise" id="apidoc.module.when.makePromise">module when.makePromise</a></h1>


    <h2>
        <a href="#apidoc.element.when.makePromise.makePromise" id="apidoc.element.when.makePromise.makePromise">
        function <span class="apidocSignatureSpan">when.</span>makePromise
        <span class="apidocSignatureSpan">(environment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makePromise(environment) {

		var tasks = environment.scheduler;
		var emitRejection = initEmitRejection();

		var objectCreate = Object.create ||
			function(proto) {
				function Child() {}
				Child.prototype = proto;
				return new Child();
			};

		<span class="apidocCodeCommentSpan">/**
		 * Create a promise whose fate is determined by resolver
		 * @constructor
		 * @returns {Promise} promise
		 * @name Promise
		 */
</span>		function Promise(resolver, handler) {
			this._handler = resolver === Handler ? handler : init(resolver);
		}

		/**
		 * Run the supplied resolver
		 * @param resolver
		 * @returns {Pending}
		 */
		function init(resolver) {
			var handler = new Pending();

			try {
				resolver(promiseResolve, promiseReject, promiseNotify);
			} catch (e) {
				promiseReject(e);
			}

			return handler;

			/**
			 * Transition from pre-resolution state to post-resolution state, notifying
			 * all listeners of the ultimate fulfillment or rejection
			 * @param {*} x resolution value
			 */
			function promiseResolve (x) {
				handler.resolve(x);
			}
			/**
			 * Reject this promise with reason, which will be used verbatim
			 * @param {Error|*} reason rejection reason, strongly suggested
			 *   to be an Error type
			 */
			function promiseReject (reason) {
				handler.reject(reason);
			}

			/**
			 * @deprecated
			 * Issue a progress event, notifying all progress listeners
			 * @param {*} x progress event payload to pass to all listeners
			 */
			function promiseNotify (x) {
				handler.notify(x);
			}
		}

		// Creation

		Promise.resolve = resolve;
		Promise.reject = reject;
		Promise.never = never;

		Promise._defer = defer;
		Promise._handler = getHandler;

		/**
		 * Returns a trusted promise. If x is already a trusted promise, it is
		 * returned, otherwise returns a new trusted Promise which follows x.
		 * @param  {*} x
		 * @return {Promise} promise
		 */
		function resolve(x) {
			return isPromise(x) ? x
				: new Promise(Handler, new Async(getHandler(x)));
		}

		/**
		 * Return a reject promise with x as its reason (x is used verbatim)
		 * @param {*} x
		 * @returns {Promise} rejected promise
		 */
		function reject(x) {
			return new Promise(Handler, new Async(new Rejected(x)));
		}

		/**
		 * Return a promise that remains pending forever
		 * @returns {Promise} forever-pending promise.
		 */
		function never() {
			return foreverPendingPromise; // Should be frozen
		}

		/**
		 * Creates an internal {promise, resolver} pair
		 * @private
		 * @returns {Promise}
		 */
		function defer() {
			return new Promise(Handler, new Pending());
		}

		// Transformation and flow control

		/**
		 * Transform this promise&#x27;s fulfillment value, returning a new Promise
		 * for the transformed result.  If the promise cannot be fulfilled, onRejected
		 * is called with the reason.  onProgress *may* be called with updates toward
		 * this promise&#x27;s fulfillment.
		 * @param {function=} onFulfilled fulfillment handler
		 * @param {function=} onRejected rejection handler
		 * @param {function=} onProgress @deprecated progress handler
		 * @return {Promise} new promise
		 */
		Promise.prototype.then = function(onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.join().state();

			if ((typeof onFulfilled !== &#x27;function&#x27; &#x26;&#x26; state &#x3e; 0) ||
				(typeof onRejected !== &#x27;function&#x27; &#x26;&#x26; state &#x3c; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this._beget();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		};

		/**
		 * If this promise cannot be fulfilled due to an error, call onRejected to
		 * handle the error. Shortcut for .then(undefined, onRejected)
		 * @param {function?} onRejected
		 * @return {Promise}
		 */
		Promise.prototype[&#x27;catch&#x27;] = function(onRejected) {
			return this.then(void 0, onRejected);
		};

		/**
		 * Creates a new, pending promise of the same type as this promise
		 * @private
		 * @returns {Promise}
		 */
		Promise.proto ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.map" id="apidoc.module.when.map">module when.map</a></h1>


    <h2>
        <a href="#apidoc.element.when.map.map" id="apidoc.element.when.map.map">
        function <span class="apidocSignatureSpan">when.</span>map
        <span class="apidocSignatureSpan">(promises, mapFunc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(promises, mapFunc) {
		return when(promises, function(promises) {
			return Promise.map(promises, mapFunc);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.reduce(when.<span class="apidocCodeKeywordSpan">map</span>(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.monitor" id="apidoc.module.when.monitor">module when.monitor</a></h1>


    <h2>
        <a href="#apidoc.element.when.monitor.monitor" id="apidoc.element.when.monitor.monitor">
        function <span class="apidocSignatureSpan">when.</span>monitor
        <span class="apidocSignatureSpan">(Promise)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">monitor = function (Promise) {
		return promiseMonitor.monitor(Promise);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	var PromiseMonitor = require(&#x27;./monitor/PromiseMonitor&#x27;);
	var ConsoleReporter = require(&#x27;./monitor/ConsoleReporter&#x27;);

	var promiseMonitor = new PromiseMonitor(new ConsoleReporter());

	return function(Promise) {
		return promiseMonitor.<span class="apidocCodeKeywordSpan">monitor</span>(Promise);
	};
});
}(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function(factory) { module.exports = factory(require
); }));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.node" id="apidoc.module.when.node">module when.node</a></h1>


    <h2>
        <a href="#apidoc.element.when.node.apply" id="apidoc.element.when.node.apply">
        function <span class="apidocSignatureSpan">when.node.</span>apply
        <span class="apidocSignatureSpan">(f, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function apply(f, args) {
		return _apply(f, this, args || []);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Takes a `traditional` callback-taking function and returns a promise for its
	 * result, accepting an optional array of arguments (that might be values or
	 * promises). It assumes that the function takes its callback and errback as
	 * the last two arguments. The resolution of the promise depends on whether the
	 * function will call its callback or its errback.
	 *
	 * @example
	 *    var domIsLoaded = callbacks.<span class="apidocCodeKeywordSpan">apply</span>($);
	 *    domIsLoaded.then(function() {
	 *		doMyDomStuff();
	 *	});
	 *
	 * @example
	 *    function existingAjaxyFunction(url, callback, errback) {
	 *		// Complex logic you&#x27;d rather not change
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.node.bindCallback" id="apidoc.element.when.node.bindCallback">
        function <span class="apidocSignatureSpan">when.node.</span>bindCallback
        <span class="apidocSignatureSpan">(promise, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function bindCallback(promise, callback) {
		promise = when(promise);

		if (callback) {
			promise.then(success, wrapped);
		}

		return promise;

		function success(value) {
			wrapped(null, value);
		}

		function wrapped(err, value) {
			setTimer(function () {
				callback(err, value);
			}, 0);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.node.call" id="apidoc.element.when.node.call">
        function <span class="apidocSignatureSpan">when.node.</span>call
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function call(f) {
		return _apply(f, this, slice.call(arguments, 1));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @example
	 *    function sumInFiveSeconds(a, b, callback) {
	 *		setTimeout(function() {
	 *			callback(a + b);
	 *		}, 5000);
	 *	}
	 *
	 *    var sumPromise = callbacks.<span class="apidocCodeKeywordSpan">call</span>(sumInFiveSeconds, 5, 10);
	 *
	 *    // Logs &#x27;15&#x27; 5 seconds later
	 *    sumPromise.then(console.log);
	 *
	 * @param {function} asyncFunction function to be called
	 * @param {...*} args arguments that will be forwarded to the function
	 * @returns {Promise} promise for the callback value of asyncFunction
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.node.createCallback" id="apidoc.element.when.node.createCallback">
        function <span class="apidocSignatureSpan">when.node.</span>createCallback
        <span class="apidocSignatureSpan">(resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createCallback(resolver) {
		return function(err, value) {
			if(err) {
				resolver.reject(err);
			} else if(arguments.length &#x3e; 2) {
				resolver.resolve(slice.call(arguments, 1));
			} else {
				resolver.resolve(value);
			}
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *			callback(null, interestingValue);
	 *		}
	 *	}
	 *
	 *	var when = require(&#x27;when&#x27;), nodefn = require(&#x27;when/node/function&#x27;);
	 *
	 *	var deferred = when.defer();
	 *	callbackTakingFunction(nodefn.<span class="apidocCodeKeywordSpan">createCallback</span>(deferred.resolver));
	 *
	 *	deferred.promise.then(function(interestingValue) {
	 *		// Use interestingValue
	 *	});
	 *
	 * @param {Resolver} resolver that will be &#x27;attached&#x27; to the callback
	 * @returns {Function} a node-style callback function
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.node.lift" id="apidoc.element.when.node.lift">
        function <span class="apidocSignatureSpan">when.node.</span>lift
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(f) {
		var args1 = arguments.length &#x3e; 1 ? slice.call(arguments, 1) : [];
		return function() {
			// TODO: Simplify once partialing has been removed
			var l = args1.length;
			var al = arguments.length;
			var args = new Array(al + l);
			var i;
			for(i=0; i&#x3c;l; ++i) {
				args[i] = args1[i];
			}
			for(i=0; i&#x3c;al; ++i) {
				args[i+l] = arguments[i];
			}
			return _apply(f, this, args);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax(&#x22;GET&#x22;, &#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, &#x22;GET&#x22;);
	 *    promiseAjaxGet(&#x22;/movies.json&#x22;).then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.node.liftAll" id="apidoc.element.when.node.liftAll">
        function <span class="apidocSignatureSpan">when.node.</span>liftAll
        <span class="apidocSignatureSpan">(src, combine, dst)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function liftAll(src, combine, dst) {
		return _liftAll(lift, combine, dst, src);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.node.liftCallback" id="apidoc.element.when.node.liftCallback">
        function <span class="apidocSignatureSpan">when.node.</span>liftCallback
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function liftCallback(callback) {
		return function(promise) {
			return bindCallback(promise, callback);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.parallel" id="apidoc.module.when.parallel">module when.parallel</a></h1>


    <h2>
        <a href="#apidoc.element.when.parallel.parallel" id="apidoc.element.when.parallel.parallel">
        function <span class="apidocSignatureSpan">when.</span>parallel
        <span class="apidocSignatureSpan">(tasks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parallel(tasks) {
		return all(slice.call(arguments, 1)).then(function(args) {
			return when.map(tasks, function(task) {
				return task.apply(void 0, args);
			});
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.pipeline" id="apidoc.module.when.pipeline">module when.pipeline</a></h1>


    <h2>
        <a href="#apidoc.element.when.pipeline.pipeline" id="apidoc.element.when.pipeline.pipeline">
        function <span class="apidocSignatureSpan">when.</span>pipeline
        <span class="apidocSignatureSpan">(tasks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pipeline(tasks) {
		// Self-optimizing function to run first task with multiple
		// args using apply, but subsequence tasks via direct invocation
		var runTask = function(args, task) {
			runTask = function(arg, task) {
				return task(arg);
			};

			return task.apply(null, args);
		};

		return all(slice.call(arguments, 1)).then(function(args) {
			return when.reduce(tasks, function(arg, task) {
				return runTask(arg, task);
			}, args);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.poll" id="apidoc.module.when.poll">module when.poll</a></h1>


    <h2>
        <a href="#apidoc.element.when.poll.poll" id="apidoc.element.when.poll.poll">
        function <span class="apidocSignatureSpan">when.</span>poll
        <span class="apidocSignatureSpan">(task, interval, verifier, delayInitialTask)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function poll(task, interval, verifier, delayInitialTask) {
		var deferred, canceled, reject;

		canceled = false;
		deferred = cancelable(when.defer(), function () { canceled = true; });
		reject = deferred.reject;

		verifier = verifier || function () { return false; };

		if (typeof interval !== &#x27;function&#x27;) {
			interval = (function (interval) {
				return function () { return when().delay(interval); };
			})(interval);
		}

		function certify(result) {
			deferred.resolve(result);
		}

		function schedule(result) {
			attempt(interval).then(vote, reject);
			if (result !== void 0) {
				deferred.notify(result);
			}
		}

		function vote() {
			if (canceled) { return; }
			when(task(),
				function (result) {
					when(verifier(result),
						function (verification) {
							return verification ? certify(result) : schedule(result);
						},
						function () { schedule(result); }
					);
				},
				reject
			);
		}

		if (delayInitialTask) {
			schedule();
		} else {
			// if task() is blocking, vote will also block
			vote();
		}

		// make the promise cancelable
		deferred.promise = Object.create(deferred.promise);
		deferred.promise.cancel = deferred.cancel;

		return deferred.promise;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.promise" id="apidoc.module.when.promise">module when.promise</a></h1>


    <h2>
        <a href="#apidoc.element.when.promise.promise" id="apidoc.element.when.promise.promise">
        function <span class="apidocSignatureSpan">when.</span>promise
        <span class="apidocSignatureSpan">(resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function promise(resolver) {
		return new Promise(resolver);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *  section has been exited.
	 */
	function n(allowed) {
		var count = 0;
		var waiting = [];

		return function enter() {
			return when.<span class="apidocCodeKeywordSpan">promise</span>(function(resolve) {
				if(count &#x3c; allowed) {
					resolve(exit);
				} else {
					waiting.push(resolve);
				}
				count += 1;
			});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.race" id="apidoc.module.when.race">module when.race</a></h1>


    <h2>
        <a href="#apidoc.element.when.race.race" id="apidoc.element.when.race.race">
        function <span class="apidocSignatureSpan">when.</span>race
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">race = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.reduce" id="apidoc.module.when.reduce">module when.reduce</a></h1>


    <h2>
        <a href="#apidoc.element.when.reduce.reduce" id="apidoc.element.when.reduce.reduce">
        function <span class="apidocSignatureSpan">when.</span>reduce
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when&#x27;s promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require(&#x27;when&#x27;);
var rest = require(&#x27;rest&#x27;);

when.<span class="apidocCodeKeywordSpan">reduce</span>(when.map(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest(&#x27;http://example.com/numbers&#x27;).then(JSON.parse);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.reduceRight" id="apidoc.module.when.reduceRight">module when.reduceRight</a></h1>


    <h2>
        <a href="#apidoc.element.when.reduceRight.reduceRight" id="apidoc.element.when.reduceRight.reduceRight">
        function <span class="apidocSignatureSpan">when.</span>reduceRight
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduceRight = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.filter() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.<span class="apidocCodeKeywordSpan">reduceRight</span>() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple

	// Error types
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.reject" id="apidoc.module.when.reject">module when.reject</a></h1>


    <h2>
        <a href="#apidoc.element.when.reject.reject" id="apidoc.element.when.reject.reject">
        function <span class="apidocSignatureSpan">when.</span>reject
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reject(x) {
			return new Promise(Handler, new Async(new Rejected(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		return new Deferred();
	}

	function Deferred() {
		var p = Promise._defer();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.<span class="apidocCodeKeywordSpan">reject</span>(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
		this.reject = reject;
		this.notify = notify;
		this.resolver = { resolve: resolve, reject: reject, notify: notify };
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.resolve" id="apidoc.module.when.resolve">module when.resolve</a></h1>


    <h2>
        <a href="#apidoc.element.when.resolve.resolve" id="apidoc.element.when.resolve.resolve">
        function <span class="apidocSignatureSpan">when.</span>resolve
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolve(x) {
			return isPromise(x) ? x
				: new Promise(Handler, new Async(getHandler(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {function?} onProgress callback to be called when progress updates
	 *   are issued for x. @deprecated
	 * @returns {Promise} a new promise that will fulfill with the return
	 *   value of callback or errback or the completion value of promiseOrValue if
	 *   callback and/or errback is not supplied.
	 */
	function when(x, onFulfilled, onRejected, onProgress) {
		var p = Promise.<span class="apidocCodeKeywordSpan">resolve</span>(x);
		if (arguments.length &#x3c; 2) {
			return p;
		}

		return p.then(onFulfilled, onRejected, onProgress);
	}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.sequence" id="apidoc.module.when.sequence">module when.sequence</a></h1>


    <h2>
        <a href="#apidoc.element.when.sequence.sequence" id="apidoc.element.when.sequence.sequence">
        function <span class="apidocSignatureSpan">when.</span>sequence
        <span class="apidocSignatureSpan">(tasks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sequence(tasks) {
		var results = [];

		return all(slice.call(arguments, 1)).then(function(args) {
			return when.reduce(tasks, function(results, task) {
				return when(task.apply(void 0, args), addResult);
			}, results);
		});

		function addResult(result) {
			results.push(result);
			return results;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.settle" id="apidoc.module.when.settle">module when.settle</a></h1>


    <h2>
        <a href="#apidoc.element.when.settle.settle" id="apidoc.element.when.settle.settle">
        function <span class="apidocSignatureSpan">when.</span>settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(promises) {
		return when(promises, Promise.settle);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			return toPromise(results);
		}

		var p = Promise._defer();
		var resolver = Promise._handler(p);
		var promises = keys.map(function(k) { return object[k]; });

		when.<span class="apidocCodeKeywordSpan">settle</span>(promises).then(function(states) {
			populateResults(keys, states, results, resolver);
		});

		return p;
	}

	function populateResults(keys, states, results, resolver) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.some" id="apidoc.module.when.some">module when.some</a></h1>


    <h2>
        <a href="#apidoc.element.when.some.some" id="apidoc.element.when.some.some">
        function <span class="apidocSignatureSpan">when.</span>some
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">some = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&#x3c;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.state" id="apidoc.module.when.state">module when.state</a></h1>


    <h2>
        <a href="#apidoc.element.when.state.fulfilled" id="apidoc.element.when.state.fulfilled">
        function <span class="apidocSignatureSpan">when.state.</span>fulfilled
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toFulfilledState(x) {
		return { state: &#x27;fulfilled&#x27;, value: x };
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.state.inspect" id="apidoc.element.when.state.inspect">
        function <span class="apidocSignatureSpan">when.state.</span>inspect
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function inspect(handler) {
		var state = handler.state();
		return state === 0 ? toPendingState()
			 : state &#x3e; 0   ? toFulfilledState(handler.value)
			               : toRejectedState(handler.value);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.state.pending" id="apidoc.element.when.state.pending">
        function <span class="apidocSignatureSpan">when.state.</span>pending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toPendingState() {
		return { state: &#x27;pending&#x27; };
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.state.rejected" id="apidoc.element.when.state.rejected">
        function <span class="apidocSignatureSpan">when.state.</span>rejected
        <span class="apidocSignatureSpan">(e)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toRejectedState(e) {
		return { state: &#x27;rejected&#x27;, reason: e };
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.timeout" id="apidoc.module.when.timeout">module when.timeout</a></h1>


    <h2>
        <a href="#apidoc.element.when.timeout.timeout" id="apidoc.element.when.timeout.timeout">
        function <span class="apidocSignatureSpan">when.</span>timeout
        <span class="apidocSignatureSpan">(msec, trigger)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function timeout(msec, trigger) {
		return when(trigger).timeout(msec);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

(function(define) {
define(function(require) {

	var when = require(&#x27;./when&#x27;);

    /**
	 * @deprecated Use when(trigger).<span class="apidocCodeKeywordSpan">timeout</span>(ms)
     */
    return function timeout(msec, trigger) {
		return when(trigger).timeout(msec);
    };
});
})(typeof define === &#x27;function&#x27; &#x26;&#x26; define.amd ? define : function (factory) { module.exports = factory(require
); });
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.toString" id="apidoc.module.when.toString">module when.toString</a></h1>


    <h2>
        <a href="#apidoc.element.when.toString.toString" id="apidoc.element.when.toString.toString">
        function <span class="apidocSignatureSpan">when.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.try" id="apidoc.module.when.try">module when.try</a></h1>


    <h2>
        <a href="#apidoc.element.when.try.try" id="apidoc.element.when.try.try">
        function <span class="apidocSignatureSpan">when.</span>try
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function attempt(f) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true */
</span>		for(var i=0, l=arguments.length-1, a=new Array(l); i&#x3c;l; ++i) {
			a[i] = arguments[i+1];
		}
		return apply(f, this, a);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.unfold" id="apidoc.module.when.unfold">module when.unfold</a></h1>


    <h2>
        <a href="#apidoc.element.when.unfold.unfold" id="apidoc.element.when.unfold.unfold">
        function <span class="apidocSignatureSpan">when.</span>unfold
        <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unfold(unspool, condition, handler, x) {
			return resolve(x).then(function(seed) {
				return resolve(condition(seed)).then(function(done) {
					return done ? seed : resolve(unspool(seed)).spread(next);
				});
			});

			function next(item, newSeed) {
				return resolve(handler(item)).then(function() {
					return unfold(unspool, condition, handler, newSeed);
				});
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>

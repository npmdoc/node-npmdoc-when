<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://cujojs.com">when (v3.7.8)</a>
</h1>
<h4>A lightweight Promises/A+ and when() implementation, plus other async goodies.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.when">module when</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.when">
            function <span class="apidocSignatureSpan"></span>when
            <span class="apidocSignatureSpan">(x, onFulfilled, onRejected, onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise">
            function <span class="apidocSignatureSpan">when.</span>Promise
            <span class="apidocSignatureSpan">(resolver, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.TimeoutError">
            function <span class="apidocSignatureSpan">when.</span>TimeoutError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.all">
            function <span class="apidocSignatureSpan">when.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.any">
            function <span class="apidocSignatureSpan">when.</span>any
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.attempt">
            function <span class="apidocSignatureSpan">when.</span>attempt
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.defer">
            function <span class="apidocSignatureSpan">when.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.filter">
            function <span class="apidocSignatureSpan">when.</span>filter
            <span class="apidocSignatureSpan">(promises, predicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.isPromiseLike">
            function <span class="apidocSignatureSpan">when.</span>isPromiseLike
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.iterate">
            function <span class="apidocSignatureSpan">when.</span>iterate
            <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.join">
            function <span class="apidocSignatureSpan">when.</span>join
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.lift">
            function <span class="apidocSignatureSpan">when.</span>lift
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.map">
            function <span class="apidocSignatureSpan">when.</span>map
            <span class="apidocSignatureSpan">(promises, mapFunc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.promise">
            function <span class="apidocSignatureSpan">when.</span>promise
            <span class="apidocSignatureSpan">(resolver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.race">
            function <span class="apidocSignatureSpan">when.</span>race
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reduce">
            function <span class="apidocSignatureSpan">when.</span>reduce
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reduceRight">
            function <span class="apidocSignatureSpan">when.</span>reduceRight
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.reject">
            function <span class="apidocSignatureSpan">when.</span>reject
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.resolve">
            function <span class="apidocSignatureSpan">when.</span>resolve
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.settle">
            function <span class="apidocSignatureSpan">when.</span>settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.some">
            function <span class="apidocSignatureSpan">when.</span>some
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.toString">
            function <span class="apidocSignatureSpan">when.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.try">
            function <span class="apidocSignatureSpan">when.</span>try
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.unfold">
            function <span class="apidocSignatureSpan">when.</span>unfold
            <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>Promise.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>TimeoutError.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">when.</span>callbacks</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise">module when.Promise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.Promise">
            function <span class="apidocSignatureSpan">when.</span>Promise
            <span class="apidocSignatureSpan">(resolver, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._defer">
            function <span class="apidocSignatureSpan">when.Promise.</span>_defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._handler">
            function <span class="apidocSignatureSpan">when.Promise.</span>_handler
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._traverse">
            function <span class="apidocSignatureSpan">when.Promise.</span>_traverse
            <span class="apidocSignatureSpan">(f, promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise._visitRemaining">
            function <span class="apidocSignatureSpan">when.Promise.</span>_visitRemaining
            <span class="apidocSignatureSpan">(promises, start, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.all">
            function <span class="apidocSignatureSpan">when.Promise.</span>all
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.any">
            function <span class="apidocSignatureSpan">when.Promise.</span>any
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.createContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>createContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.enterContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>enterContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.exitContext">
            function <span class="apidocSignatureSpan">when.Promise.</span>exitContext
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.filter">
            function <span class="apidocSignatureSpan">when.Promise.</span>filter
            <span class="apidocSignatureSpan">(promises, predicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.iterate">
            function <span class="apidocSignatureSpan">when.Promise.</span>iterate
            <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.map">
            function <span class="apidocSignatureSpan">when.Promise.</span>map
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.never">
            function <span class="apidocSignatureSpan">when.Promise.</span>never
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onFatalRejection">
            function <span class="apidocSignatureSpan">when.Promise.</span>onFatalRejection
            <span class="apidocSignatureSpan">(rejection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection">
            function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejection
            <span class="apidocSignatureSpan">(rejection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled">
            function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejectionHandled
            <span class="apidocSignatureSpan">(rejection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.race">
            function <span class="apidocSignatureSpan">when.Promise.</span>race
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduce">
            function <span class="apidocSignatureSpan">when.Promise.</span>reduce
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reduceRight">
            function <span class="apidocSignatureSpan">when.Promise.</span>reduceRight
            <span class="apidocSignatureSpan">(promises, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.reject">
            function <span class="apidocSignatureSpan">when.Promise.</span>reject
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.resolve">
            function <span class="apidocSignatureSpan">when.Promise.</span>resolve
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.settle">
            function <span class="apidocSignatureSpan">when.Promise.</span>settle
            <span class="apidocSignatureSpan">(promises)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.some">
            function <span class="apidocSignatureSpan">when.Promise.</span>some
            <span class="apidocSignatureSpan">(promises, n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.unfold">
            function <span class="apidocSignatureSpan">when.Promise.</span>unfold
            <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.Promise.prototype">module when.Promise.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype._beget">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>_beget
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.catch">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>catch
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.delay">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>delay
            <span class="apidocSignatureSpan">(ms)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.done">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>done
            <span class="apidocSignatureSpan">(onResult, onError)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.else">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>else
            <span class="apidocSignatureSpan">(defaultValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.ensure">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>ensure
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.finally">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>finally
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.fold">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>fold
            <span class="apidocSignatureSpan">(f, z)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.inspect">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>inspect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.orElse">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>orElse
            <span class="apidocSignatureSpan">(defaultValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.otherwise">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>otherwise
            <span class="apidocSignatureSpan">(onRejected)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.progress">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>progress
            <span class="apidocSignatureSpan">(onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.spread">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>spread
            <span class="apidocSignatureSpan">(onFulfilled)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.tap">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>tap
            <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.then">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>then
            <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.timeout">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>timeout
            <span class="apidocSignatureSpan">(ms, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.with">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>with
            <span class="apidocSignatureSpan">(receiver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.withThis">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>withThis
            <span class="apidocSignatureSpan">(receiver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.Promise.prototype.yield">
            function <span class="apidocSignatureSpan">when.Promise.prototype.</span>yield
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.TimeoutError">module when.TimeoutError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.TimeoutError.TimeoutError">
            function <span class="apidocSignatureSpan">when.</span>TimeoutError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.TimeoutError.prototype">module when.TimeoutError.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.TimeoutError.prototype.constructor">
            function <span class="apidocSignatureSpan">when.TimeoutError.prototype.</span>constructor
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.when.callbacks">module when.callbacks</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.apply">
            function <span class="apidocSignatureSpan">when.callbacks.</span>apply
            <span class="apidocSignatureSpan">(asyncFunction, extraAsyncArgs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.call">
            function <span class="apidocSignatureSpan">when.callbacks.</span>call
            <span class="apidocSignatureSpan">(asyncFunction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.lift">
            function <span class="apidocSignatureSpan">when.callbacks.</span>lift
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.liftAll">
            function <span class="apidocSignatureSpan">when.callbacks.</span>liftAll
            <span class="apidocSignatureSpan">(src, combine, dst)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.when.callbacks.promisify">
            function <span class="apidocSignatureSpan">when.callbacks.</span>promisify
            <span class="apidocSignatureSpan">(asyncFunction, positions)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when" id="apidoc.module.when">module when</a></h1>


    <h2>
        <a href="#apidoc.element.when.when" id="apidoc.element.when.when">
        function <span class="apidocSignatureSpan"></span>when
        <span class="apidocSignatureSpan">(x, onFulfilled, onRejected, onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function when(x, onFulfilled, onRejected, onProgress) {
		var p = Promise.resolve(x);
		if (arguments.length &lt; 2) {
			return p;
		}

		return p.then(onFulfilled, onRejected, onProgress);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise" id="apidoc.element.when.Promise">
        function <span class="apidocSignatureSpan">when.</span>Promise
        <span class="apidocSignatureSpan">(resolver, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(resolver, handler) {
			this._handler = resolver === Handler ? handler : init(resolver);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.TimeoutError" id="apidoc.element.when.TimeoutError">
        function <span class="apidocSignatureSpan">when.</span>TimeoutError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TimeoutError(message) {
		Error.call(this);
		this.message = message;
		this.name = TimeoutError.name;
		if (typeof Error.captureStackTrace === 'function') {
			Error.captureStackTrace(this, TimeoutError);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.all" id="apidoc.element.when.all">
        function <span class="apidocSignatureSpan">when.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function all(promises) {
		return when(promises, Promise.all);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Return a promise that will resolve only once all the supplied arguments
	 * have resolved. The resolution value of the returned promise will be an array
	 * containing the resolution values of each of the arguments.
	 * @param {...*} arguments may be a mix of promises and values
	 * @returns {Promise}
	 */
	function join(/* ...promises */) {
		return Promise.<span class="apidocCodeKeywordSpan">all</span>(arguments);
	}

	/**
	 * Return a promise that will fulfill once all input promises have
	 * fulfilled, or reject when any one input promise rejects.
	 * @param {array|Promise} promises array (or promise for an array) of promises
	 * @returns {Promise}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.any" id="apidoc.element.when.any">
        function <span class="apidocSignatureSpan">when.</span>any
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">any = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&lt;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.attempt" id="apidoc.element.when.attempt">
        function <span class="apidocSignatureSpan">when.</span>attempt
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function attempt(f) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true */
</span>		for(var i=0, l=arguments.length-1, a=new Array(l); i&lt;l; ++i) {
			a[i] = arguments[i+1];
		}
		return apply(f, this, a);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.defer" id="apidoc.element.when.defer">
        function <span class="apidocSignatureSpan">when.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defer() {
		return new Deferred();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.filter" id="apidoc.element.when.filter">
        function <span class="apidocSignatureSpan">when.</span>filter
        <span class="apidocSignatureSpan">(promises, predicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter(promises, predicate) {
		return when(promises, function(promises) {
			return Promise.filter(promises, predicate);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.settle      = settle;               // Settle a list of promises

	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.<span class="apidocCodeKeywordSpan">filter</span>() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.isPromiseLike" id="apidoc.element.when.isPromiseLike">
        function <span class="apidocSignatureSpan">when.</span>isPromiseLike
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPromiseLike(x) {
		return x &amp;&amp; typeof x.then === 'function';
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.iterate" id="apidoc.element.when.iterate">
        function <span class="apidocSignatureSpan">when.</span>iterate
        <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function iterate(f, condition, handler, x) {
			return unfold(function(x) {
				return [x, f(x)];
			}, condition, handler, x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.join" id="apidoc.element.when.join">
        function <span class="apidocSignatureSpan">when.</span>join
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function join() {
		return Promise.all(arguments);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.lift" id="apidoc.element.when.lift">
        function <span class="apidocSignatureSpan">when.</span>lift
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(f) {
		return function() {
			for(var i=0, l=arguments.length, a=new Array(l); i&lt;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax("GET", "/movies.json").then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, "GET");
	 *    promiseAjaxGet("/movies.json").then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.map" id="apidoc.element.when.map">
        function <span class="apidocSignatureSpan">when.</span>map
        <span class="apidocSignatureSpan">(promises, mapFunc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(promises, mapFunc) {
		return when(promises, function(promises) {
			return Promise.map(promises, mapFunc);
		});
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when's promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require('when');
var rest = require('rest');

when.reduce(when.<span class="apidocCodeKeywordSpan">map</span>(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest('http://example.com/numbers').then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.promise" id="apidoc.element.when.promise">
        function <span class="apidocSignatureSpan">when.</span>promise
        <span class="apidocSignatureSpan">(resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function promise(resolver) {
		return new Promise(resolver);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.race" id="apidoc.element.when.race">
        function <span class="apidocSignatureSpan">when.</span>race
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">race = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&lt;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.reduce" id="apidoc.element.when.reduce">
        function <span class="apidocSignatureSpan">when.</span>reduce
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduce = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&lt;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when's promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require('when');
var rest = require('rest');

when.<span class="apidocCodeKeywordSpan">reduce</span>(when.map(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest('http://example.com/numbers').then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.reduceRight" id="apidoc.element.when.reduceRight">
        function <span class="apidocSignatureSpan">when.</span>reduceRight
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reduceRight = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&lt;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.filter() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.<span class="apidocCodeKeywordSpan">reduceRight</span>() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple

	// Error types
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.reject" id="apidoc.element.when.reject">
        function <span class="apidocSignatureSpan">when.</span>reject
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reject(x) {
			return new Promise(Handler, new Async(new Rejected(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		return new Deferred();
	}

	function Deferred() {
		var p = Promise._defer();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.<span class="apidocCodeKeywordSpan">reject</span>(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
		this.reject = reject;
		this.notify = notify;
		this.resolver = { resolve: resolve, reject: reject, notify: notify };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.resolve" id="apidoc.element.when.resolve">
        function <span class="apidocSignatureSpan">when.</span>resolve
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolve(x) {
			return isPromise(x) ? x
				: new Promise(Handler, new Async(getHandler(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {function?} onProgress callback to be called when progress updates
	 *   are issued for x. @deprecated
	 * @returns {Promise} a new promise that will fulfill with the return
	 *   value of callback or errback or the completion value of promiseOrValue if
	 *   callback and/or errback is not supplied.
	 */
	function when(x, onFulfilled, onRejected, onProgress) {
		var p = Promise.<span class="apidocCodeKeywordSpan">resolve</span>(x);
		if (arguments.length &lt; 2) {
			return p;
		}

		return p.then(onFulfilled, onRejected, onProgress);
	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.settle" id="apidoc.element.when.settle">
        function <span class="apidocSignatureSpan">when.</span>settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(promises) {
		return when(promises, Promise.settle);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.some" id="apidoc.element.when.some">
        function <span class="apidocSignatureSpan">when.</span>some
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">some = function () {
			for(var i=0, l=arguments.length, a=new Array(l); i&lt;l; ++i) {
				a[i] = arguments[i];
			}
			return apply(f, this, a);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.toString" id="apidoc.element.when.toString">
        function <span class="apidocSignatureSpan">when.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return toString;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.try" id="apidoc.element.when.try">
        function <span class="apidocSignatureSpan">when.</span>try
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function attempt(f) {
		<span class="apidocCodeCommentSpan">/*jshint validthis:true */
</span>		for(var i=0, l=arguments.length-1, a=new Array(l); i&lt;l; ++i) {
			a[i] = arguments[i+1];
		}
		return apply(f, this, a);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.unfold" id="apidoc.element.when.unfold">
        function <span class="apidocSignatureSpan">when.</span>unfold
        <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unfold(unspool, condition, handler, x) {
			return resolve(x).then(function(seed) {
				return resolve(condition(seed)).then(function(done) {
					return done ? seed : resolve(unspool(seed)).spread(next);
				});
			});

			function next(item, newSeed) {
				return resolve(handler(item)).then(function() {
					return unfold(unspool, condition, handler, newSeed);
				});
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise" id="apidoc.module.when.Promise">module when.Promise</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.Promise" id="apidoc.element.when.Promise.Promise">
        function <span class="apidocSignatureSpan">when.</span>Promise
        <span class="apidocSignatureSpan">(resolver, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Promise(resolver, handler) {
			this._handler = resolver === Handler ? handler : init(resolver);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._defer" id="apidoc.element.when.Promise._defer">
        function <span class="apidocSignatureSpan">when.Promise.</span>_defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defer() {
			return new Promise(Handler, new Pending());
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @return {{promise: Promise, resolve: function, reject: function, notify: function}}
	 */
	function defer() {
		return new Deferred();
	}

	function Deferred() {
		var p = Promise.<span class="apidocCodeKeywordSpan">_defer</span>();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.reject(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._handler" id="apidoc.element.when.Promise._handler">
        function <span class="apidocSignatureSpan">when.Promise.</span>_handler
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getHandler(x) {
			if(isPromise(x)) {
				return x._handler.join();
			}
			return maybeThenable(x) ? getHandlerUntrusted(x) : new Fulfilled(x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._traverse" id="apidoc.element.when.Promise._traverse">
        function <span class="apidocSignatureSpan">when.Promise.</span>_traverse
        <span class="apidocSignatureSpan">(f, promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function traverse(f, promises) {
			return traverseWith(tryCatch2, f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise._visitRemaining" id="apidoc.element.when.Promise._visitRemaining">
        function <span class="apidocSignatureSpan">when.Promise.</span>_visitRemaining
        <span class="apidocSignatureSpan">(promises, start, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function visitRemaining(promises, start, handler) {
			for(var i=start; i&lt;promises.length; ++i) {
				markAsHandled(getHandler(promises[i]), handler);
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.all" id="apidoc.element.when.Promise.all">
        function <span class="apidocSignatureSpan">when.Promise.</span>all
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function all(promises) {
			return traverseWith(snd, null, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Return a promise that will resolve only once all the supplied arguments
	 * have resolved. The resolution value of the returned promise will be an array
	 * containing the resolution values of each of the arguments.
	 * @param {...*} arguments may be a mix of promises and values
	 * @returns {Promise}
	 */
	function join(/* ...promises */) {
		return Promise.<span class="apidocCodeKeywordSpan">all</span>(arguments);
	}

	/**
	 * Return a promise that will fulfill once all input promises have
	 * fulfilled, or reject when any one input promise rejects.
	 * @param {array|Promise} promises array (or promise for an array) of promises
	 * @returns {Promise}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.any" id="apidoc.element.when.Promise.any">
        function <span class="apidocSignatureSpan">when.Promise.</span>any
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function any(promises) {
			var p = Promise._defer();
			var resolver = p._handler;
			var l = promises.length&gt;&gt;&gt;0;

			var pending = l;
			var errors = [];

			for (var h, x, i = 0; i &lt; l; ++i) {
				x = promises[i];
				if(x === void 0 &amp;&amp; !(i in promises)) {
					--pending;
					continue;
				}

				h = Promise._handler(x);
				if(h.state() &gt; 0) {
					resolver.become(h);
					Promise._visitRemaining(promises, i, h);
					break;
				} else {
					h.visit(resolver, handleFulfill, handleReject);
				}
			}

			if(pending === 0) {
				resolver.reject(new RangeError('any(): array must not be empty'));
			}

			return p;

			function handleFulfill(x) {
				<span class="apidocCodeCommentSpan">/*jshint validthis:true*/
</span>				errors = null;
				this.resolve(x); // this === resolver
			}

			function handleReject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--pending === 0) {
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.createContext" id="apidoc.element.when.Promise.createContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>createContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function noop() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.enterContext" id="apidoc.element.when.Promise.enterContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>enterContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function noop() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.exitContext" id="apidoc.element.when.Promise.exitContext">
        function <span class="apidocSignatureSpan">when.Promise.</span>exitContext
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function noop() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.filter" id="apidoc.element.when.Promise.filter">
        function <span class="apidocSignatureSpan">when.Promise.</span>filter
        <span class="apidocSignatureSpan">(promises, predicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter(promises, predicate) {
			var a = slice.call(promises);
			return Promise._traverse(predicate, a).then(function(keep) {
				return filterSync(a, keep);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.settle      = settle;               // Settle a list of promises

	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.<span class="apidocCodeKeywordSpan">filter</span>() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.reduceRight() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.iterate" id="apidoc.element.when.Promise.iterate">
        function <span class="apidocSignatureSpan">when.Promise.</span>iterate
        <span class="apidocSignatureSpan">(f, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function iterate(f, condition, handler, x) {
			return unfold(function(x) {
				return [x, f(x)];
			}, condition, handler, x);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.map" id="apidoc.element.when.Promise.map">
        function <span class="apidocSignatureSpan">when.Promise.</span>map
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function map(promises, f) {
			return Promise._traverse(f, promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when's promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require('when');
var rest = require('rest');

when.reduce(when.<span class="apidocCodeKeywordSpan">map</span>(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest('http://example.com/numbers').then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.never" id="apidoc.element.when.Promise.never">
        function <span class="apidocSignatureSpan">when.Promise.</span>never
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function never() {
			return foreverPendingPromise; // Should be frozen
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onFatalRejection" id="apidoc.element.when.Promise.onFatalRejection">
        function <span class="apidocSignatureSpan">when.Promise.</span>onFatalRejection
        <span class="apidocSignatureSpan">(rejection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onFatalRejection = function (rejection) {
			enqueue(throwit, rejection.value);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejection" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejection">
        function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejection
        <span class="apidocSignatureSpan">(rejection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPotentiallyUnhandledRejection = function (rejection) {
			enqueue(report, rejection);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled" id="apidoc.element.when.Promise.onPotentiallyUnhandledRejectionHandled">
        function <span class="apidocSignatureSpan">when.Promise.</span>onPotentiallyUnhandledRejectionHandled
        <span class="apidocSignatureSpan">(rejection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onPotentiallyUnhandledRejectionHandled = function (rejection) {
			enqueue(unreport, rejection);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.race" id="apidoc.element.when.Promise.race">
        function <span class="apidocSignatureSpan">when.Promise.</span>race
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function race(promises) {
			if(typeof promises !== 'object' || promises === null) {
				return reject(new TypeError('non-iterable passed to race()'));
			}

			// Sigh, race([]) is untestable unless we return *something*
			// that is recognizable without calling .then() on it.
			return promises.length === 0 ? never()
				 : promises.length === 1 ? resolve(promises[0])
				 : runRace(promises);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reduce" id="apidoc.element.when.Promise.reduce">
        function <span class="apidocSignatureSpan">when.Promise.</span>reduce
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduce(promises, f) {
			return arguments.length &gt; 2 ? ar.call(promises, liftCombine(f), arguments[2])
					: ar.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second example shows off the power that comes with when's promise logic. Here, we get an array of numbers from a remote
 source and reduce them. The example will print `150` if all went well, and if there was a problem will print a full stack trace
.

```js
var when = require('when');
var rest = require('rest');

when.<span class="apidocCodeKeywordSpan">reduce</span>(when.map(getRemoteNumberList(), times10), sum)
.done(function(result) {
    console.log(result);
});

function getRemoteNumberList() {
// Get a remote array [1, 2, 3, 4, 5]
return rest('http://example.com/numbers').then(JSON.parse);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reduceRight" id="apidoc.element.when.Promise.reduceRight">
        function <span class="apidocSignatureSpan">when.Promise.</span>reduceRight
        <span class="apidocSignatureSpan">(promises, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reduceRight(promises, f) {
			return arguments.length &gt; 2 ? arr.call(promises, liftCombine(f), arguments[2])
					: arr.call(promises, liftCombine(f));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	when.any         = lift(Promise.any);    // One-winner race
	when.some        = lift(Promise.some);   // Multi-winner race
	when.race        = lift(Promise.race);   // First-to-settle race

	when.map         = map;                  // Array.map() for promises
	when.filter      = filter;               // Array.filter() for promises
	when.reduce      = lift(Promise.reduce);       // Array.reduce() for promises
	when.reduceRight = lift(Promise.reduceRight);  // Array.<span class="apidocCodeKeywordSpan">reduceRight</span>() for promises

	when.isPromiseLike = isPromiseLike;      // Is something promise-like, aka thenable

	when.Promise     = Promise;              // Promise constructor
	when.defer       = defer;                // Create a {promise, resolve, reject} tuple

	// Error types
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.reject" id="apidoc.element.when.Promise.reject">
        function <span class="apidocSignatureSpan">when.Promise.</span>reject
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reject(x) {
			return new Promise(Handler, new Async(new Rejected(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		return new Deferred();
	}

	function Deferred() {
		var p = Promise._defer();

		function resolve(x) { p._handler.resolve(x); }
		function reject(x) { p._handler.<span class="apidocCodeKeywordSpan">reject</span>(x); }
		function notify(x) { p._handler.notify(x); }

		this.promise = p;
		this.resolve = resolve;
		this.reject = reject;
		this.notify = notify;
		this.resolver = { resolve: resolve, reject: reject, notify: notify };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.resolve" id="apidoc.element.when.Promise.resolve">
        function <span class="apidocSignatureSpan">when.Promise.</span>resolve
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolve(x) {
			return isPromise(x) ? x
				: new Promise(Handler, new Async(getHandler(x)));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @param {function?} onProgress callback to be called when progress updates
	 *   are issued for x. @deprecated
	 * @returns {Promise} a new promise that will fulfill with the return
	 *   value of callback or errback or the completion value of promiseOrValue if
	 *   callback and/or errback is not supplied.
	 */
	function when(x, onFulfilled, onRejected, onProgress) {
		var p = Promise.<span class="apidocCodeKeywordSpan">resolve</span>(x);
		if (arguments.length &lt; 2) {
			return p;
		}

		return p.then(onFulfilled, onRejected, onProgress);
	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.settle" id="apidoc.element.when.Promise.settle">
        function <span class="apidocSignatureSpan">when.Promise.</span>settle
        <span class="apidocSignatureSpan">(promises)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function settle(promises) {
			return all(promises.map(settleOne));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.some" id="apidoc.element.when.Promise.some">
        function <span class="apidocSignatureSpan">when.Promise.</span>some
        <span class="apidocSignatureSpan">(promises, n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function some(promises, n) {
			<span class="apidocCodeCommentSpan">/*jshint maxcomplexity:7*/
</span>			var p = Promise._defer();
			var resolver = p._handler;

			var results = [];
			var errors = [];

			var l = promises.length&gt;&gt;&gt;0;
			var nFulfill = 0;
			var nReject;
			var x, i; // reused in both for() loops

			// First pass: count actual array items
			for(i=0; i&lt;l; ++i) {
				x = promises[i];
				if(x === void 0 &amp;&amp; !(i in promises)) {
					continue;
				}
				++nFulfill;
			}

			// Compute actual goals
			n = Math.max(n, 0);
			nReject = (nFulfill - n + 1);
			nFulfill = Math.min(n, nFulfill);

			if(n &gt; nFulfill) {
				resolver.reject(new RangeError('some(): array must contain at least '
				+ n + ' item(s), but had ' + nFulfill));
			} else if(nFulfill === 0) {
				resolver.resolve(results);
			}

			// Second pass: observe each array item, make progress toward goals
			for(i=0; i&lt;l; ++i) {
				x = promises[i];
				if(x === void 0 &amp;&amp; !(i in promises)) {
					continue;
				}

				Promise._handler(x).visit(resolver, fulfill, reject, resolver.notify);
			}

			return p;

			function fulfill(x) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				results.push(x);
				if(--nFulfill === 0) {
					errors = null;
					this.resolve(results);
				}
			}

			function reject(e) {
				/*jshint validthis:true*/
				if(this.resolved) { // this === resolver
					return;
				}

				errors.push(e);
				if(--nReject === 0) {
					results = null;
					this.reject(errors);
				}
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.unfold" id="apidoc.element.when.Promise.unfold">
        function <span class="apidocSignatureSpan">when.Promise.</span>unfold
        <span class="apidocSignatureSpan">(unspool, condition, handler, x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unfold(unspool, condition, handler, x) {
			return resolve(x).then(function(seed) {
				return resolve(condition(seed)).then(function(done) {
					return done ? seed : resolve(unspool(seed)).spread(next);
				});
			});

			function next(item, newSeed) {
				return resolve(handler(item)).then(function() {
					return unfold(unspool, condition, handler, newSeed);
				});
			}
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.Promise.prototype" id="apidoc.module.when.Promise.prototype">module when.Promise.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.when.Promise.prototype._beget" id="apidoc.element.when.Promise.prototype._beget">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>_beget
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_beget = function () {
			return begetFrom(this._handler, this.constructor);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.catch" id="apidoc.element.when.Promise.prototype.catch">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>catch
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">catch = function (onRejected) {
			if (arguments.length &lt; 2) {
				return origCatch.call(this, onRejected);
			}

			if(typeof onRejected !== 'function') {
				return this.ensure(rejectInvalidPredicate);
			}

			return origCatch.call(this, createCatchFilter(arguments[1], onRejected));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
This first example will print `"hello world!!!!"` if all went well, or `"drat!"` if there was a problem. It
also uses [rest](https://github.com/cujojs/rest) to make an ajax request to a (fictional) external service.

```js
var rest = require('rest');

fetchRemoteGreeting()
.then(addExclamation)
.<span class="apidocCodeKeywordSpan">catch</span>(handleError)
.done(function(greeting) {
    console.log(greeting);
});

function fetchRemoteGreeting() {
// returns a when.js promise for 'hello world'
return rest('http://example.com/greeting');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.delay" id="apidoc.element.when.Promise.prototype.delay">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>delay
        <span class="apidocSignatureSpan">(ms)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delay = function (ms) {
			var p = this._beget();
			this._handler.fold(handleDelay, ms, void 0, p._handler);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.done" id="apidoc.element.when.Promise.prototype.done">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>done
        <span class="apidocSignatureSpan">(onResult, onError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">done = function (onResult, onError) {
			this._handler.visit(this._handler.receiver, onResult, onError);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var rest = require('rest');

fetchRemoteGreeting()
    .then(addExclamation)
    .catch(handleError)
    .<span class="apidocCodeKeywordSpan">done</span>(function(greeting) {
        console.log(greeting);
    });

function fetchRemoteGreeting() {
    // returns a when.js promise for 'hello world'
    return rest('http://example.com/greeting');
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.else" id="apidoc.element.when.Promise.prototype.else">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>else
        <span class="apidocSignatureSpan">(defaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">else = function (defaultValue) {
			return this.then(void 0, function() {
				return defaultValue;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.ensure" id="apidoc.element.when.Promise.prototype.ensure">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>ensure
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ensure = function (handler) {
			if(typeof handler !== 'function') {
				return this;
			}

			return this.then(function(x) {
				return runSideEffect(handler, this, identity, x);
			}, function(e) {
				return runSideEffect(handler, this, reject, e);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.finally" id="apidoc.element.when.Promise.prototype.finally">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>finally
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">finally = function (handler) {
			if(typeof handler !== 'function') {
				return this;
			}

			return this.then(function(x) {
				return runSideEffect(handler, this, identity, x);
			}, function(e) {
				return runSideEffect(handler, this, reject, e);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.fold" id="apidoc.element.when.Promise.prototype.fold">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>fold
        <span class="apidocSignatureSpan">(f, z)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fold = function (f, z) {
			var promise = this._beget();

			this._handler.fold(function(z, x, to) {
				Promise._handler(z).fold(function(x, z, to) {
					to.resolve(f.call(this, z, x));
				}, x, this, to);
			}, z, promise._handler.receiver, promise._handler);

			return promise;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.inspect" id="apidoc.element.when.Promise.prototype.inspect">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>inspect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inspect = function () {
			return inspect(Promise._handler(this));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.orElse" id="apidoc.element.when.Promise.prototype.orElse">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>orElse
        <span class="apidocSignatureSpan">(defaultValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">orElse = function (defaultValue) {
			return this.then(void 0, function() {
				return defaultValue;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.otherwise" id="apidoc.element.when.Promise.prototype.otherwise">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>otherwise
        <span class="apidocSignatureSpan">(onRejected)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">otherwise = function (onRejected) {
			if (arguments.length &lt; 2) {
				return origCatch.call(this, onRejected);
			}

			if(typeof onRejected !== 'function') {
				return this.ensure(rejectInvalidPredicate);
			}

			return origCatch.call(this, createCatchFilter(arguments[1], onRejected));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.progress" id="apidoc.element.when.Promise.prototype.progress">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>progress
        <span class="apidocSignatureSpan">(onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">progress = function (onProgress) {
			return this.then(void 0, void 0, onProgress);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.spread" id="apidoc.element.when.Promise.prototype.spread">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>spread
        <span class="apidocSignatureSpan">(onFulfilled)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spread = function (onFulfilled) {
			return this.then(all).then(function(array) {
				return onFulfilled.apply(this, array);
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.tap" id="apidoc.element.when.Promise.prototype.tap">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>tap
        <span class="apidocSignatureSpan">(onFulfilledSideEffect)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tap = function (onFulfilledSideEffect) {
			return this.then(onFulfilledSideEffect)['yield'](this);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.then" id="apidoc.element.when.Promise.prototype.then">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>then
        <span class="apidocSignatureSpan">(onFulfilled, onRejected, onProgress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">then = function (onFulfilled, onRejected, onProgress) {
			var parent = this._handler;
			var state = parent.join().state();

			if ((typeof onFulfilled !== 'function' &amp;&amp; state &gt; 0) ||
				(typeof onRejected !== 'function' &amp;&amp; state &lt; 0)) {
				// Short circuit: value will not change, simply share handler
				return new this.constructor(Handler, parent);
			}

			var p = this._beget();
			var child = p._handler;

			parent.chain(child, parent.receiver, onFulfilled, onRejected, onProgress);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

This first example will print `"hello world!!!!"` if all went well, or `"drat!"` if there was a problem. It
also uses [rest](https://github.com/cujojs/rest) to make an ajax request to a (fictional) external service.

```js
var rest = require('rest');

fetchRemoteGreeting()
.<span class="apidocCodeKeywordSpan">then</span>(addExclamation)
.catch(handleError)
.done(function(greeting) {
    console.log(greeting);
});

function fetchRemoteGreeting() {
// returns a when.js promise for 'hello world'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.timeout" id="apidoc.element.when.Promise.prototype.timeout">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>timeout
        <span class="apidocSignatureSpan">(ms, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timeout = function (ms, reason) {
			var p = this._beget();
			var h = p._handler;

			var t = setTimeout(onTimeout, ms, reason, p._handler);

			this._handler.visit(h,
				function onFulfill(x) {
					env.clearTimer(t);
					this.resolve(x); // this = h
				},
				function onReject(x) {
					env.clearTimer(t);
					this.reject(x); // this = h
				},
				h.notify);

			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.with" id="apidoc.element.when.Promise.prototype.with">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>with
        <span class="apidocSignatureSpan">(receiver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">with = function (receiver) {
			var p = this._beget();
			var child = p._handler;
			child.receiver = receiver;
			this._handler.chain(child, receiver);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.withThis" id="apidoc.element.when.Promise.prototype.withThis">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>withThis
        <span class="apidocSignatureSpan">(receiver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withThis = function (receiver) {
			var p = this._beget();
			var child = p._handler;
			child.receiver = receiver;
			this._handler.chain(child, receiver);
			return p;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.Promise.prototype.yield" id="apidoc.element.when.Promise.prototype.yield">
        function <span class="apidocSignatureSpan">when.Promise.prototype.</span>yield
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yield = function (value) {
			return this.then(function() {
				return value;
			});
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.TimeoutError" id="apidoc.module.when.TimeoutError">module when.TimeoutError</a></h1>


    <h2>
        <a href="#apidoc.element.when.TimeoutError.TimeoutError" id="apidoc.element.when.TimeoutError.TimeoutError">
        function <span class="apidocSignatureSpan">when.</span>TimeoutError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TimeoutError(message) {
		Error.call(this);
		this.message = message;
		this.name = TimeoutError.name;
		if (typeof Error.captureStackTrace === 'function') {
			Error.captureStackTrace(this, TimeoutError);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.TimeoutError.prototype" id="apidoc.module.when.TimeoutError.prototype">module when.TimeoutError.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.when.TimeoutError.prototype.constructor" id="apidoc.element.when.TimeoutError.prototype.constructor">
        function <span class="apidocSignatureSpan">when.TimeoutError.prototype.</span>constructor
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TimeoutError(message) {
		Error.call(this);
		this.message = message;
		this.name = TimeoutError.name;
		if (typeof Error.captureStackTrace === 'function') {
			Error.captureStackTrace(this, TimeoutError);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.when.callbacks" id="apidoc.module.when.callbacks">module when.callbacks</a></h1>


    <h2>
        <a href="#apidoc.element.when.callbacks.apply" id="apidoc.element.when.callbacks.apply">
        function <span class="apidocSignatureSpan">when.callbacks.</span>apply
        <span class="apidocSignatureSpan">(asyncFunction, extraAsyncArgs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function apply(asyncFunction, extraAsyncArgs) {
		return _apply(asyncFunction, this, extraAsyncArgs || []);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * Takes a `traditional` callback-taking function and returns a promise for its
	 * result, accepting an optional array of arguments (that might be values or
	 * promises). It assumes that the function takes its callback and errback as
	 * the last two arguments. The resolution of the promise depends on whether the
	 * function will call its callback or its errback.
	 *
	 * @example
	 *    var domIsLoaded = callbacks.<span class="apidocCodeKeywordSpan">apply</span>($);
	 *    domIsLoaded.then(function() {
	 *		doMyDomStuff();
	 *	});
	 *
	 * @example
	 *    function existingAjaxyFunction(url, callback, errback) {
	 *		// Complex logic you'd rather not change
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.call" id="apidoc.element.when.callbacks.call">
        function <span class="apidocSignatureSpan">when.callbacks.</span>call
        <span class="apidocSignatureSpan">(asyncFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function call(asyncFunction) {
		return _apply(asyncFunction, this, slice.call(arguments, 1));
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * @example
	 *    function sumInFiveSeconds(a, b, callback) {
	 *		setTimeout(function() {
	 *			callback(a + b);
	 *		}, 5000);
	 *	}
	 *
	 *    var sumPromise = callbacks.<span class="apidocCodeKeywordSpan">call</span>(sumInFiveSeconds, 5, 10);
	 *
	 *    // Logs '15' 5 seconds later
	 *    sumPromise.then(console.log);
	 *
	 * @param {function} asyncFunction function to be called
	 * @param {...*} args arguments that will be forwarded to the function
	 * @returns {Promise} promise for the callback value of asyncFunction
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.lift" id="apidoc.element.when.callbacks.lift">
        function <span class="apidocSignatureSpan">when.callbacks.</span>lift
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function lift(f) {
		var args = arguments.length &gt; 1 ? slice.call(arguments, 1) : [];
		return function() {
			return _apply(f, this, args.concat(slice.call(arguments)));
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 *
	 *		xhr.onload = callback;
	 *		xhr.onerror = errback;
	 *
	 *		xhr.send();
	 *	}
	 *
	 *    var promiseAjax = callbacks.<span class="apidocCodeKeywordSpan">lift</span>(traditionalAjax);
	 *    promiseAjax("GET", "/movies.json").then(console.log, console.error);
	 *
	 *    var promiseAjaxGet = callbacks.lift(traditionalAjax, "GET");
	 *    promiseAjaxGet("/movies.json").then(console.log, console.error);
	 *
	 * @param {Function} f traditional async function to be decorated
	 * @param {...*} [args] arguments to be prepended for the new function @deprecated
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.liftAll" id="apidoc.element.when.callbacks.liftAll">
        function <span class="apidocSignatureSpan">when.callbacks.</span>liftAll
        <span class="apidocSignatureSpan">(src, combine, dst)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function liftAll(src, combine, dst) {
		return _liftAll(lift, combine, dst, src);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.when.callbacks.promisify" id="apidoc.element.when.callbacks.promisify">
        function <span class="apidocSignatureSpan">when.callbacks.</span>promisify
        <span class="apidocSignatureSpan">(asyncFunction, positions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function promisify(asyncFunction, positions) {

		return function() {
			var thisArg = this;
			return Promise.all(arguments).then(function(args) {
				var p = Promise._defer();

				var callbackPos, errbackPos;

				if(typeof positions.callback === 'number') {
					callbackPos = normalizePosition(args, positions.callback);
				}

				if(typeof positions.errback === 'number') {
					errbackPos = normalizePosition(args, positions.errback);
				}

				if(errbackPos &lt; callbackPos) {
					insertCallback(args, errbackPos, p._handler.reject, p._handler);
					insertCallback(args, callbackPos, p._handler.resolve, p._handler);
				} else {
					insertCallback(args, callbackPos, p._handler.resolve, p._handler);
					insertCallback(args, errbackPos, p._handler.reject, p._handler);
				}

				asyncFunction.apply(thisArg, args);

				return p;
			});
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	 * of the arguments array.
	 *
	 * If arguments are given on the call to the 'promisified' function, they are
	 * intermingled with the callback and errback. If a promise is given among them,
	 * the execution of the function will only occur after its resolution.
	 *
	 * @example
	 *    var delay = callbacks.<span class="apidocCodeKeywordSpan">promisify</span>(setTimeout, {
	 *		callback: 0
	 *	});
	 *
	 *    delay(100).then(function() {
	 *		console.log("This happens 100ms afterwards");
	 *	});
	 *
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>